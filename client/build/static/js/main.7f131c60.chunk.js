(this.webpackJsonpclient=this.webpackJsonpclient||[]).push([[0],{125:function(e,t,c){},126:function(e,t,c){},153:function(e,t,c){},180:function(e,t,c){},181:function(e,t,c){},182:function(e,t,c){},196:function(e,t,c){},202:function(e,t,c){},203:function(e,t,c){},204:function(e,t,c){"use strict";c.r(t);var s=c(1),n=c(29),a=c.n(n),i=(c(125),c(56),c(20)),l=c(6),o=c(48),r=c(59),d=c(8),j=(c(126),c(12)),b=c(11),m=c(9),u=c(10),h=c(112),x=c(14),O=c(0);var f=Object(b.b)(null,(function(e){return{Logout:function(){e({type:"CLEAR_USER"})}}}))((function(e){var t=Object(x.g)();return Object(O.jsx)("span",{className:"text-center",children:Object(O.jsxs)(h.a,{size:"sm",className:"btn-danger py-1 px-4 mt-2",onClick:function(){localStorage.setItem("accessToken",null),e.Logout(),t.push("/"),window.location.reload()},children:[Object(O.jsx)(m.a,{icon:u.q})," "," Logout"]})})})),p=c(212),g=c(22),v=c.n(g),N="",y=["lofo@iiti.ac.in"],w=v.a.get("/api/items"),S=v.a.get("/api/lost-found"),I=function(e){return v.a.post("/api/lost-found",e,{headers:{authorization:localStorage.getItem("accessToken")}})};var k=Object(b.b)((function(e){return{Auth:e.authorised,user:e.user,notifications:e.user.notifications}}),(function(e){return{Update:function(t){e({type:"UPDATE_USER",payload:t})}}}))((function(e){var t=Object(s.useState)(0),c=Object(d.a)(t,2),n=c[0],a=c[1];Object(s.useEffect)((function(){for(var t=0,c=0;c<e.user.notifications.length;c++)!1===e.user.notifications[c].read&&t++;a(t)}),[e.user.notifications]);var i=function(){if(n>0){for(var t=[],c=0;c<e.user.notifications.length;c++){var s=Object(l.a)(Object(l.a)({},e.user.notifications[c]),{},{read:!0});t.push(s)}var a=Object(l.a)(Object(l.a)({},e.user),{},{notifications:t});v.a.put("/api/user/notifbell",{},{headers:{authorization:localStorage.getItem("accessToken")}}).then((function(t){e.Update(a)})).catch((function(e){console.log(e.message)}))}};return Object(O.jsxs)(O.Fragment,{children:[Object(O.jsxs)("div",{className:"profile d-none d-lg-flex justify-content-between ",children:[Object(O.jsx)(j.b,{onClick:i,eventKey:"12",to:"/notifications",className:"m-auto mx-2",id:"notification-bell",children:n>0?Object(O.jsxs)(O.Fragment,{children:[Object(O.jsx)(m.a,{size:"lg",style:{color:"#212529"},icon:u.e}),Object(O.jsx)("sup",{className:"rounded-pill bg-primary px-1 text-light",style:{position:"relative",right:7,top:-7},children:n})]}):Object(O.jsx)(m.a,{size:"lg",className:"me-3",style:{color:"#212529"},icon:u.e})}),e.user.name?Object(O.jsxs)("div",{className:"mt-auto mx-3",style:{color:"#010101",margin:"auto 0"},children:["  Hi! ",e.user.name.slice(0,e.user.name.indexOf(" "))]}):null,Object(O.jsxs)("div",{className:"dropdown dropstart",children:[Object(O.jsx)("button",{className:"btn btn-transparent p-0 my-auto dropdown-toggle non-outlined-btn",id:"dropdownMenuButton2","data-bs-toggle":"dropdown","aria-expanded":"false",children:Object(O.jsx)("img",{src:e.user.imageUrl,alt:"icon",className:"d-inline-block align-text-top",id:"profile-image"})}),Object(O.jsxs)("ul",{className:"dropdown-menu position-absolute","aria-labelledby":"dropdownMenuButton2",children:[Object(O.jsxs)(p.a.Item,{className:"m-1",eventKey:"13",as:j.b,to:"/profile",children:[Object(O.jsx)(m.a,{className:"me-2",icon:u.y}),"Profile"]}),Object(O.jsxs)(p.a.Item,{className:"m-1",eventKey:"14",as:j.b,to:"/wishlist",children:[Object(O.jsx)(m.a,{className:"me-2",icon:u.m}),"Wishlist"]}),Object(O.jsxs)(p.a.Item,{className:"m-1",eventKey:"16",as:j.b,to:"/orders",children:[Object(O.jsx)(m.a,{className:"me-2",icon:u.r}),"Orders"]}),Object(O.jsxs)(p.a.Item,{className:"m-1",eventKey:"15",as:j.b,to:"/your-ads",children:[Object(O.jsx)(m.a,{className:"me-2",icon:u.h}),"Ads"]}),Object(O.jsxs)("li",{className:"text-center",children:[" ",Object(O.jsx)(f,{})]})]})]})]}),Object(O.jsxs)("div",{className:"d-flex px-2 d-lg-none justify-content-between",children:[Object(O.jsxs)(j.b,{eventKey:"12",to:"/wishlist",style:{color:"#212529",textDecoration:"none"},children:[Object(O.jsx)("div",{className:"text-center",children:Object(O.jsx)(m.a,{icon:u.m})}),Object(O.jsx)("p",{children:"Wishlist"})]}),Object(O.jsxs)(j.b,{eventKey:"13",to:"/your-ads",style:{color:"#212529",textDecoration:"none"},children:[Object(O.jsx)("div",{className:"text-center",children:Object(O.jsx)(m.a,{icon:u.h})}),Object(O.jsx)("p",{children:"Ads"})]}),Object(O.jsxs)(j.b,{onClick:i,eventKey:"14",to:"/notifications",style:{color:"#212529",textDecoration:"none"},children:[Object(O.jsx)("div",{className:"text-center",children:n>0?Object(O.jsxs)(O.Fragment,{children:[Object(O.jsx)(m.a,{size:"lg",style:{color:"#212529"},icon:u.e}),Object(O.jsx)("sup",{className:"rounded-pill bg-primary px-1 text-light",style:{position:"relative",right:7,top:-7},children:n})]}):Object(O.jsx)(m.a,{size:"lg",style:{color:"#212529"},icon:u.e})}),Object(O.jsx)("p",{children:"Notifications"})]}),Object(O.jsxs)(j.b,{eventKey:"15",to:"/orders",style:{color:"#212529",textDecoration:"none"},children:[Object(O.jsx)("div",{className:"text-center",children:Object(O.jsx)(m.a,{icon:u.r})}),Object(O.jsx)("p",{children:"Orders"})]}),Object(O.jsxs)(j.b,{eventKey:"16",to:"/profile",style:{color:"#212529",textDecoration:"none"},children:[Object(O.jsx)("div",{className:"text-center",children:Object(O.jsx)(m.a,{icon:u.y})}),Object(O.jsx)("p",{children:"Profile"})]})]})]})})),E=c(215),T=c(209),_=c(120),z=c.p+"static/media/logo.fac722cd.webp";var F=Object(x.j)(Object(b.b)((function(e){return{auth:e.authorised,user:e.user}}),(function(e){return{Update:function(t){e({type:"UPDATE_USER",payload:t})}}}))((function(e){var t=Object(s.useState)(null),c=Object(d.a)(t,2),n=c[0],a=c[1],i=Object(s.useState)(!1),l=Object(d.a)(i,2),o=l[0],r=l[1];Object(s.useEffect)((function(){a(window.location.pathname)}),[a]),Object(s.useEffect)((function(){if(n)for(var e=document.querySelectorAll(".page-links"),t=0;t<e.length;t++){var c=e[t];c.style.backgroundColor=n.includes(c.id)?"#07886c":"#fff",c.style.color=n.includes(c.id)?"#fff":"#444"}}));var b=e.auth,m={color:"#444",margin:"5px auto",padding:"4px 10px",borderRadius:5,hover:"text-decoration: underline"};return Object(O.jsxs)(O.Fragment,{children:[Object(O.jsx)(E.a,{collapseOnSelect:!0,expand:"lg",sticky:"top",expanded:o,style:{backgroundColor:"white",padding:0,margin:0},children:Object(O.jsxs)(T.a,{fluid:!0,className:"gap-2",maxWidth:!0,style:{margin:0},children:[Object(O.jsx)(j.b,{to:"/",className:"navbar-brand logo d-flex",children:Object(O.jsx)("img",{src:z,alt:"",className:"my-auto",width:70,height:60})}),Object(O.jsx)(E.a.Toggle,{className:"non-outlined-btn",onClick:function(){return r(!o)}}),Object(O.jsxs)(E.a.Collapse,{width:100,children:[Object(O.jsxs)(_.a,{className:"ms-2 gap-0 gap-md-2",onClick:function(){return r(!1)},children:[Object(O.jsx)("hr",{className:"m-1 "}),b&&Object(O.jsxs)(O.Fragment,{children:[Object(O.jsx)("hr",{className:"m-1 "}),Object(O.jsx)(_.a.Link,{className:"page-links",id:"buy",eventKey:"2",as:j.b,style:m,to:"/buy/All",children:"Buy"})]}),b&&Object(O.jsxs)(O.Fragment,{children:[Object(O.jsx)("hr",{className:"m-1 "}),Object(O.jsx)(_.a.Link,{className:"page-links",id:"sell",eventKey:"2",as:j.b,style:m,to:"/sell",children:"Sell"})]}),b&&Object(O.jsxs)(O.Fragment,{children:[Object(O.jsx)("hr",{className:"m-1 "}),Object(O.jsx)(_.a.Link,{className:"page-links",id:"lost",eventKey:"3",as:j.b,style:m,to:"/lost",children:"Lost Items"}),Object(O.jsx)("hr",{className:"m-1 "}),Object(O.jsx)(_.a.Link,{className:"page-links",id:"found",eventKey:"3",as:j.b,style:m,to:"/found",children:"Found Items"})]}),Object(O.jsx)("hr",{className:"m-1 "}),Object(O.jsx)(_.a.Link,{className:"page-links",id:"about",eventKey:"3",as:j.b,style:m,to:"/about",children:"About Us"}),Object(O.jsx)("hr",{className:"m-1 "}),Object(O.jsx)(_.a.Link,{className:"page-links",id:"contact",eventKey:"4",as:j.b,style:m,to:"/contact",children:"Contact Us"}),Object(O.jsx)("br",{})]}),Object(O.jsx)(_.a,{className:"ms-auto",onClick:function(){return r(!1)},children:b?Object(O.jsx)(k,{}):"/"!==window.location.pathname?Object(O.jsx)(j.b,{className:"text-decoration-none",to:"/",children:"Login"}):null})]})]})}),Object(O.jsx)("script",{src:"../scripts/collapse.js"})]})}))),C=(c(153),c(13)),U=c(113);function L(){return Object(O.jsx)(U.ClipLoader,{size:100,css:{margin:"100px auto",display:"block"}})}var A=Object(x.j)(Object(b.b)((function(e){return{user:e.user,authorised:e.authorised,loading:e.loading}}),(function(e){return{Update:function(t){e({type:"UPDATE_USER",payload:t})},addItem:function(t){e({type:"CREATE_ITEM",payload:t})}}}))((function(e){var t=e.user,c=e.authorised,n=e.loading,a=e.history,o=e.Update,r=Object(s.useState)(null),j=Object(d.a)(r,2),b=j[0],m=j[1],u=Object(s.useState)(""),h=Object(d.a)(u,2),f=h[0],p=h[1],g=Object(s.useState)(""),N=Object(d.a)(g,2),y=N[0],w=N[1];return Object(s.useEffect)((function(){if(!c)return C.b.warn("You need to login first!"),Object(O.jsx)(x.a,{to:"/"})}),[c]),n?Object(O.jsx)(L,{}):Object(O.jsxs)(O.Fragment,{children:[!0===b?Object(O.jsx)("div",{style:{display:"flex",height:"82vh",alignItems:"center",justifyContent:"center"},children:Object(O.jsx)("h3",{className:"text-center",children:"Posting..."})}):Object(O.jsxs)("div",{className:"container-fluid ",children:[Object(O.jsxs)("main",{children:[Object(O.jsxs)("div",{className:"container d-flex justify-content-evenly my-3 px-1 hero",style:{backgroundColor:"#fff"},children:[Object(O.jsxs)("div",{className:"d-flex flex-column justify-content-center",children:[Object(O.jsx)("h1",{className:"fw-bold",children:"Want to sell your Spares? "}),Object(O.jsx)("p",{className:"m-0",children:"If you want to sell or giveaway something, you can add a post."})]}),Object(O.jsx)("img",{src:"/sell.jpg",alt:"",style:{height:"inherit"}})]}),Object(O.jsx)("div",{className:"container px-1 mt-5 ",children:Object(O.jsx)("div",{className:"d-flex flex-wrap justify-content-center",children:Object(O.jsx)("form",{className:"needs-validation",id:"itemForm",noValidate:"",onSubmit:function(c){if(c.preventDefault(),""===f||/^\(?(\d{3})\)?[- ]?(\d{3})[- ]?(\d{4})$/.test(f)){if(""!==y&&!y.type.includes("image"))return C.b.warning("Please select image files only, e.g: png, jpg, jpeg etc"),void m(!1);m(!0);var s,n=c.target,r=new FormData(n);r.append("userName",t.name),(s=r,v.a.post("/api/items/",s,{headers:{authorization:localStorage.getItem("accessToken")}})).then((function(c){m(!1),e.addItem(c.data),C.b.success("Posted Ad for ".concat(c.data.title)),a.push("/your-ads");var s=Object(l.a)(Object(l.a)({},t),{},{ads:[c.data].concat(Object(i.a)(t.ads))});return o(s),Object(O.jsx)(x.a,{to:"/your-ads"})})).catch((function(e){m(!1),console.log(e),C.b.error("Failed to post")}))}else C.b.warning("Please enter a valide mobile number!")},children:Object(O.jsxs)("div",{className:"row g-4",children:[Object(O.jsxs)("div",{className:"col-12 col-md-8",children:[Object(O.jsxs)("label",{htmlFor:"productTitle",className:"form-label",children:["Product Title",Object(O.jsx)("span",{className:"text-danger fw-bold",children:"*"})]}),Object(O.jsx)("input",{autoCapitalize:"sentences",required:!0,type:"text",className:"form-control custom-form",id:"productTitle",placeholder:"Enter the product title here",name:"title"}),Object(O.jsx)("div",{className:"invalid-feedback",children:"Please enter product title."})]}),Object(O.jsxs)("div",{className:"col-12 col-md-8",children:[Object(O.jsxs)("label",{htmlFor:"description",className:"form-label",children:["Product Description",Object(O.jsx)("span",{className:"text-danger fw-bold",children:"*"})," "]}),Object(O.jsxs)("div",{className:"input-group has-validation",children:[Object(O.jsx)("textarea",{autoCapitalize:"sentences",required:!0,className:"form-control custom-form",id:"description",placeholder:"Enter Product Description",name:"description"}),Object(O.jsx)("div",{className:"invalid-feedback",children:"Please enter product description."})]})]}),Object(O.jsxs)("div",{className:"col-12 col-md-8 d-flex justify-content-center flex-column bd-highlight mb-3",children:[Object(O.jsxs)("label",{className:"form-label",children:["Categories",Object(O.jsx)("span",{className:"text-danger fw-bold",children:"*"})]}),Object(O.jsxs)("div",{className:"row ms-3",children:[Object(O.jsxs)("div",{className:"me-3 form-check col-12 col-md-2",children:[Object(O.jsx)("input",{type:"checkbox",className:"form-check-input",id:"Sports",name:"Sports"}),Object(O.jsx)("label",{className:"form-check-label",htmlFor:"Sports",children:"Sports"})]}),Object(O.jsxs)("div",{className:"me-3 form-check col-12 col-md-2",children:[Object(O.jsx)("input",{type:"checkbox",className:"form-check-input",id:"Books",name:"Books"}),Object(O.jsx)("label",{className:"form-check-label",htmlFor:"Books",children:"Books"})]}),Object(O.jsxs)("div",{className:"me-3 form-check col-12 col-md-2",children:[Object(O.jsx)("input",{type:"checkbox",className:"form-check-input",id:"Games",name:"Games"}),Object(O.jsx)("label",{className:"form-check-label",htmlFor:"Games",children:"Games"})]}),Object(O.jsxs)("div",{className:"me-3 form-check col-12 col-md-2",children:[Object(O.jsx)("input",{type:"checkbox",className:"form-check-input",id:"Utilities",name:"Utilities"}),Object(O.jsx)("label",{className:"form-check-label",htmlFor:"Utilities",children:"Utilities"})]}),Object(O.jsxs)("div",{className:"me-3 form-check col-12 col-md-2",children:[Object(O.jsx)("input",{type:"checkbox",className:"form-check-input",id:"Other",name:"Other"}),Object(O.jsx)("label",{className:"form-check-label",htmlFor:"Other",children:"Other"})]})]}),Object(O.jsx)("div",{className:"d-flex justify-content-center bd-highlight mb-3",children:Object(O.jsx)("div",{className:"invalid-feedback",children:"Please enter product category."})}),Object(O.jsx)("div",{className:"col-6 d-flex justify-content-center flex-column bd-highlight mb-4"}),Object(O.jsxs)("div",{className:"row",children:[Object(O.jsxs)("div",{className:"col-12 col-md-6 d-flex justify-content-center flex-column bd-highlight",children:[Object(O.jsx)("label",{htmlFor:"tel",className:"form-label",children:"Mobile Number (optional)"}),Object(O.jsx)("input",{className:"form-control",type:"tel",maxLength:"10",id:"tel",placeholder:"0123456789",name:"mobile",onChange:function(e){return p(e.target.value)}}),Object(O.jsx)("br",{}),Object(O.jsxs)("label",{htmlFor:"price",className:"form-label",required:!0,children:["Price",Object(O.jsx)("span",{className:"text-danger fw-bold",children:"*"})]}),Object(O.jsx)("input",{required:!0,min:"0",type:"number",className:"form-control",id:"price",placeholder:"Set a Price",name:"price"}),Object(O.jsx)("br",{}),Object(O.jsx)("div",{className:"invalid-feedback",children:"Please enter product price."}),Object(O.jsxs)("label",{htmlFor:"image1",className:"form-label",children:["Upload Images",Object(O.jsx)("span",{className:"text-danger fw-bold",children:"*"}),"  ",Object(O.jsx)("i",{className:"text-danger",children:" (atleast first image required!)"})]}),Object(O.jsx)("input",{required:!0,onChange:function(e){return w(e.target.files[0])},type:"file",accept:"image/*",className:"form-control",id:"image1",placeholder:"Required",name:"file1"}),Object(O.jsx)("input",{type:"file",className:"form-control",id:"image2",name:"file2"}),Object(O.jsx)("input",{type:"file",className:"form-control",id:"image3",name:"file3"}),Object(O.jsx)("input",{type:"file",className:"form-control",id:"image4",name:"file4"}),Object(O.jsx)("div",{className:"invalid-feedback",children:"Please upload an image."})]}),Object(O.jsx)("div",{className:"d-none d-lg-block col-md-4",children:Object(O.jsx)("img",{className:"mt-4",style:{width:"100%"},src:"/selltag.png",alt:""})})]}),Object(O.jsx)("hr",{className:"my-4"})]}),Object(O.jsxs)("div",{className:"d-flex w-50 m-auto gap-3 bd-highlight mb-3 justify-content-center ",children:[Object(O.jsx)("button",{className:"w-100 btn btn-danger btn-sm",type:"reset",children:"Reset"}),Object(O.jsx)("button",{className:"w-100 btn btn-success btn-sm",type:"submit",children:"Post"})]})]})})})})]}),Object(O.jsx)("br",{})]}),Object(O.jsx)("script",{src:"/docs/5.0/dist/js/bootstrap.bundle.min.js",integrity:"sha384-MrcW6ZMFYlzcLA8Nl+NtUVF0sA7MsXsP1UyJoMp4YLEuNSfAP+JcXn/tWtIaxVXM",crossOrigin:"anonymous"}),Object(O.jsx)("script",{src:"form-validation.js"})]})})));c(180);var D=Object(b.b)((function(e){return{user:e.user,loading:e.loading,items:e.items}}),(function(e){return{Update:function(t){e({type:"UPDATE_USER",payload:t})}}}))((function(e){var t=e.user,c=t.name,n=t.email,a=t.imageUrl,i=t.mobile,o=e.user,r=e.items,b=Object(s.useState)(""),m=Object(d.a)(b,2),u=m[0],x=m[1],p=Object(s.useState)(!1),g=Object(d.a)(p,2),N=g[0],y=g[1],w=Object(s.useRef)(),S=Object(s.useState)([]),I=Object(d.a)(S,2),k=I[0],E=I[1],T=Object(s.useState)(!0),_=Object(d.a)(T,2),z=_[0],F=_[1];return Object(s.useEffect)((function(){if(!e.loading){for(var t=[],c=function(e){var c=o.orders[e];r.filter((function(e){return e._id===c._id})).length>0&&(c=Object(l.a)(Object(l.a)({},c),r.filter((function(e){return e._id===c._id}))[0]),t.push(c))},s=0;s<o.orders.length;s++)c(s);E(t),F(!1)}}),[r,o.orders,e.loading]),Object(O.jsx)("div",{className:"container my-4",children:Object(O.jsxs)("div",{className:"main-body",children:[Object(O.jsxs)("div",{className:"row",children:[Object(O.jsx)("div",{className:"col-md-4 mb-3",children:Object(O.jsx)("div",{className:"card-wrapper p-0 p-md-3",children:Object(O.jsx)("div",{className:"profile-card",children:Object(O.jsx)("div",{className:"card-body",children:Object(O.jsxs)("div",{className:"d-flex flex-column align-items-center text-center",children:[Object(O.jsx)("img",{src:a,alt:"Admin",className:"rounded-circle",width:100}),Object(O.jsxs)("div",{className:"mt-3",children:[Object(O.jsx)("h4",{children:c}),Object(O.jsx)("p",{className:"text-secondary mb-1",children:"IIT Indore"}),Object(O.jsx)("p",{className:"text-muted font-size-sm",children:n})]})]})})})})}),Object(O.jsx)("div",{className:"col-md-8",children:Object(O.jsx)("div",{className:"card-wrapper p-0 p-md-3",children:Object(O.jsx)("div",{className:"card mb-3",children:Object(O.jsxs)("div",{className:"card-body",children:[Object(O.jsxs)("div",{className:"row",children:[Object(O.jsx)("div",{className:"col-sm-3",children:Object(O.jsx)("h6",{className:"mb-0",children:"Full Name"})}),Object(O.jsx)("div",{className:"col-sm-9 text-secondary",children:c})]}),Object(O.jsx)("hr",{}),Object(O.jsxs)("div",{className:"row",children:[Object(O.jsx)("div",{className:"col-sm-3",children:Object(O.jsx)("h6",{className:"mb-0",children:"Email"})}),Object(O.jsx)("div",{className:"col-sm-9 text-secondary",children:n})]}),Object(O.jsx)("hr",{}),Object(O.jsxs)("div",{className:"row",children:[Object(O.jsx)("div",{className:"col-sm-3",children:Object(O.jsx)("h6",{className:"mb-0",children:"Mobile"})}),Object(O.jsx)("div",{className:"col-sm-9 text-secondary",children:i})]}),Object(O.jsx)("hr",{}),N?Object(O.jsx)("div",{className:"row",style:{display:N?"block":"none"},children:Object(O.jsxs)("form",{children:[Object(O.jsx)("label",{htmlFor:"tel",children:"Edit your Mobile number"}),Object(O.jsx)("input",{ref:w,className:"form-control",type:"tel",maxLength:"10",id:"tel",placeholder:"0123456789",onChange:function(e){x(e.target.value)}}),Object(O.jsx)("hr",{}),Object(O.jsxs)(O.Fragment,{children:[Object(O.jsx)(h.a,{type:"submit",size:"sm",className:"btn btn-primary non-outlined-btn ",onClick:function(t){(t.preventDefault(),/^\(?(\d{3})\)?[- ]?(\d{3})[- ]?(\d{4})$/.test(u))?(y(!N),function(e){return v.a.put("/api/user",{mobile:e},{headers:{authorization:localStorage.getItem("accessToken")}})}(u).then((function(t){var c=Object(l.a)(Object(l.a)({},e.user),{},{mobile:u});e.Update(c),C.b.success("Your mobile number is updated :)")})).catch((function(e){C.b.error("Something went wrong!"),console.log(e)}))):C.b.warning("Please enter a valide mobile number!")},children:"Save"}),Object(O.jsx)(h.a,{type:"reset",size:"sm",className:"btn btn-danger non-outlined-btn ms-3 ",onClick:function(){return y(!N)},children:"Cancel"})]})]})}):Object(O.jsx)("button",{className:"btn btn-sm btn-primary non-outlined-btn ",onClick:function(){y(!N),setTimeout((function(){w.current.focus()}),100)},children:"Edit"})]})})})})]}),Object(O.jsxs)("div",{className:"row",children:[Object(O.jsx)("div",{className:"col-12 col-md-6",children:Object(O.jsx)("div",{className:"card-wrapper py-2 px-md-3",children:Object(O.jsxs)("div",{className:"card",children:[Object(O.jsx)("div",{className:"card-header",children:"Wishlist"}),Object(O.jsx)("div",{className:"card-body",style:{display:"flex",overflowX:"auto"},children:e.loading?Object(O.jsx)("div",{children:"Loading..."}):e.user.favourites.length>0?e.user.favourites.map((function(e){return Object(O.jsx)("img",{className:"pe-1",alt:"",src:e.images[0].url,width:80},e.images[0].url)})):Object(O.jsx)("div",{className:"w-100 text-secondary text-center p",children:"Nothing!"})}),Object(O.jsx)("div",{className:"card-footer",children:Object(O.jsx)("div",{className:"link text-end",children:Object(O.jsx)(j.b,{to:"/wishlist",children:"View Wishlist"})})})]})})}),Object(O.jsx)("div",{className:"col-12 col-md-6",children:Object(O.jsx)("div",{className:"card-wrapper py-2 px-md-3",children:Object(O.jsxs)("div",{className:"card",children:[Object(O.jsx)("div",{className:"card-header",children:"Orders"}),Object(O.jsx)("div",{className:"card-body",style:{display:"flex",overflowX:"auto"},children:z?Object(O.jsx)("div",{children:"Loading..."}):k.length>0?k.map((function(e){return Object(O.jsx)("img",{className:"pe-1",alt:"",src:e.images[0].url,width:80},e.images[0].url)})):Object(O.jsx)("div",{className:"w-100 text-secondary text-center p",children:"Nothing!"})}),Object(O.jsx)("div",{className:"card-footer",children:Object(O.jsx)("div",{className:"link text-end",children:Object(O.jsx)(j.b,{to:"/orders",children:"View Orders"})})})]})})}),Object(O.jsx)("div",{className:"logout-btn",children:Object(O.jsx)("div",{className:"text-center text-md-end my-2 mx-3",children:Object(O.jsx)(f,{})})})]})]})})})),P=c(216),R=c(82),B=Object(b.b)((function(e){return{user:e.user,Auth:e.authorised}}),(function(e){return{Update:function(t){e({type:"UPDATE_USER",payload:t})}}}))((function(e){var t=e.Auth,c=e.user;if(console.log("in wish btn ",t,c),t){var s=function(t){var s,n=Object(l.a)({},c);n.favourites.push(t),e.Update(n),(s=t._id,v.a.put(N+"/api/user/favourites/".concat(s),{},{headers:{authorization:localStorage.getItem("accessToken")}})).catch((function(e){console.log(e)}))},n=function(t){var s,n=Object(l.a)(Object(l.a)({},c),{},{favourites:c.favourites.filter((function(e){return e._id!==t._id}))});e.Update(n),(s=t._id,v.a.delete(N+"/api/user/favourites/".concat(s),{headers:{authorization:localStorage.getItem("accessToken")}})).catch((function(e){console.log(e)}))};return function(e){var t;for(t=0;t<c.favourites.length;t++)if(e===c.favourites[t]._id)return!0;return!1}(e.item._id)?Object(O.jsx)(h.a,{size:"sm",onClick:function(){return n(e.item)},variant:"transparent",className:"non-outlined-btn text-success",children:Object(O.jsx)(m.a,{size:"lg",icon:u.m})}):Object(O.jsx)(h.a,{size:"sm",onClick:function(){return s(e.item)},variant:"transparent",className:"non-outlined-btn text-success",children:Object(O.jsx)(m.a,{size:"lg",icon:R.a})})}return null}));var M=Object(x.j)(Object(b.b)((function(e){return{user:e.user,auth:e.authorised}}),(function(e){return{Update:function(t){e({type:"UPDATE_USER",payload:t})},removeItem:function(t){e({type:"DELETE_ITEM",payload:t})}}}))((function(e){var t=e.id,c=e.toHome,n=e.user,a=Object(s.useState)(!1),o=Object(d.a)(a,2),r=o[0],j=o[1];return Object(O.jsx)("span",{onClick:function(){j(!0),function(e){return v.a.delete("/api/items/"+e,{headers:{authorization:localStorage.getItem("accessToken")}})}(t).then((function(s){C.b.success("Ad deleted successfully"),j(!1),e.removeItem(t),c&&e.history.push("/buy/All"),e.removeSold&&e.update(t);var a=Object(l.a)(Object(l.a)({},n),{},{ads:n.ads.filter((function(e){return e._id!==t})),notifications:Object(i.a)(s.data)});e.Update(a)})).catch((function(e){j(!1),console.log(e.message),C.b.error("Couldn't delete Ad!")}))},className:"text-danger ms-3",role:"button",children:r?Object(O.jsx)("i",{children:"deleting..."}):Object(O.jsx)(m.a,{icon:u.w})})})));var W=Object(b.b)((function(e){return{user:e.user,auth:e.authorised}}))((function(e){var t=e.user,c=e.items,s=e.auth;return 0===c.length?Object(O.jsx)("h6",{className:"text-secondary text-center mt-5",children:"No items!"}):Object(O.jsx)("div",{className:"container",children:Object(O.jsx)("div",{className:"row",children:c.map((function(c,n){return Object(O.jsx)("div",{className:"col-6 col-md-4 col-lg-2 p-2",children:Object(O.jsxs)(P.a,{style:{minwidth:"180px",maxWidth:250,margin:"auto"},children:[Object(O.jsx)(j.b,{to:"/product/".concat(c._id),children:Object(O.jsx)(P.a.Img,{src:c.images[0].url,alt:"item-img",style:{cursor:"pointer",height:"120px"}})}),Object(O.jsxs)(P.a.Body,{children:[Object(O.jsx)("div",{className:"h6 fw-bold",children:c.title}),Object(O.jsxs)("div",{style:{fontSize:"13px"},children:["  \u20b9 ",c.price]})]}),Object(O.jsxs)(P.a.Footer,{children:[Object(O.jsxs)(h.a,{variant:"warning",size:"sm",as:j.b,to:"/product/".concat(c._id),children:[Object(O.jsx)(m.a,{icon:u.g})," View "]}),s?t.ads.filter((function(e){return e._id===c._id})).length>0?Object(O.jsx)(M,{update:e.update,removeSold:e.removeSold,id:c._id}):c.sold?null:Object(O.jsx)(B,{item:c}):null]})]},c._id)},n)}))})})}));var q=Object(x.j)(Object(b.b)((function(e){return{user:e.user,auth:e.authorised,loading:e.loading}}),(function(e){return{Update:function(t){e({type:"UPDATE_USER",payload:t})}}}))((function(e){var t=Object(s.useState)([]),c=Object(d.a)(t,2),n=c[0],a=c[1],i=Object(s.useState)(!0),l=Object(d.a)(i,2),o=l[0],r=l[1],j=e.user;return Object(s.useEffect)((function(){e.loading||(a(j.favourites),r(!1))}),[j.favourites,e.loading]),o?Object(O.jsx)(L,{}):Object(O.jsxs)(O.Fragment,{children:[Object(O.jsx)("div",{className:"results",children:Object(O.jsx)("h4",{className:"text-center py-3",children:"Wishlist"})}),Object(O.jsx)("div",{className:"pb-5",children:Object(O.jsx)(W,{items:n,removeSold:!1})})]})})));var K=Object(x.j)(Object(b.b)((function(e){return{user:e.user,loading:e.loading}}))((function(e){var t=e.user,c=Object(s.useState)(!0),n=Object(d.a)(c,2),a=n[0],i=n[1],l=Object(s.useState)(t.ads),o=Object(d.a)(l,2),r=o[0],j=o[1];return Object(s.useEffect)((function(){e.loading||(j(t.ads),i(!1))}),[t.ads,e.loading]),a?Object(O.jsx)(L,{}):Object(O.jsxs)(O.Fragment,{children:[Object(O.jsx)("div",{className:"results",children:Object(O.jsx)("h4",{className:"text-center py-3",children:"Ads"})}),Object(O.jsx)("div",{className:"pb-5",children:Object(O.jsx)(W,{items:r,removeSold:!1})})]})})));c(181);function H(){return Object(O.jsx)("section",{className:"page_404",children:Object(O.jsx)("div",{className:"container",children:Object(O.jsx)("div",{className:"row m-auto",children:Object(O.jsx)("div",{className:"col-sm-12 ",children:Object(O.jsxs)("div",{className:"col-sm-12 text-center",children:[Object(O.jsx)("div",{className:"four_zero_four_bg m-auto",children:Object(O.jsx)("h1",{className:"text-center ",children:"404"})}),Object(O.jsxs)("div",{className:"contant_box_404",children:[Object(O.jsx)("h3",{className:"h2",children:"Look like you're lost"}),Object(O.jsx)("p",{children:"the page you are looking for is not available!"}),Object(O.jsx)(j.b,{to:"/",className:"link_404",children:"Go to Home"})]})]})})})})})}var Y=c(213),G=c(119),V=function(){var e=Object(r.a)(Object(o.a)().mark((function e(t){var c,s,n,a,i,l;return Object(o.a)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:c=t.name,s=t.object,n=t.to_email,a=t.to_name,i=t.message,l=t.email,G.a.send("service_5fm302u","template_79hfmob",{name:c,object:s,to_email:n,to_name:a,message:i,email:l},"bN50q8M2Knnn5yF1i");case 2:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}();var J=Object(b.b)((function(e){return{user:e.user,auth:e.authorised,loading:e.loading,items:e.items,lofoItems:e.lofoItems}}),(function(e){return{Update:function(t,c,s){e({type:"UPDATE_USER",payload:t}),e({type:"UPDATE_ITEM",payload:{id:c,doc:s}})},Undo:function(t){return e({type:"UPDATE_LOFOITEM",payload:t})}}}))((function(e){var t=e.user,c=e.Update,n=e.items,a=e.lofoItems,i=e.Undo,o=Object(s.useState)(!1),r=Object(d.a)(o,2),j=r[0],b=r[1],x=Object(s.useState)(!1),f=Object(d.a)(x,2),p=f[0],g=f[1],y=Object(s.useState)(!1),w=Object(d.a)(y,2),S=w[0],I=w[1],k=e.content,E=k.itemTitle,T=k._id,_=k.message,z=k.userName,F=k.userEmail,U=k.mobile,L=k.dp,A=k.itemId;function D(e){if("wants to buy"===e.message){var t=n.filter((function(t){return t._id===e.itemId}))[0];return t?Object(O.jsxs)("button",{disabled:t.sold,type:"button",style:{fontSize:"12px"},className:"btn p-0 non-outlined-btn btn-transparent",onClick:function(){return g(!0)},children:[Object(O.jsx)(m.a,{icon:u.c,className:"text-success me-2"}),t.sold?"Approved":"Approve"]}):null}}function P(){var e=a.filter((function(e){return e._id===A}))[0];return e&&e.claimed?Object(O.jsxs)("button",{disabled:!e.claimed,type:"button",style:{fontSize:"12px"},className:"btn p-0 non-outlined-btn btn-transparent",onClick:function(){return M(A)},children:[Object(O.jsx)(m.a,{icon:u.x,className:"text-danger me-2"}),"Undo Claim"]}):Object(O.jsx)(O.Fragment,{})}var R=function(e,s,a,i){I(!0),function(e,t,c,s,n){return v.a.put(N+"/api/user/approve/".concat(t),{_id:e._id,notification:{message:"accepted your buy request for",itemTitle:s,mobile:e.mobile,dp:e.imageUrl,itemId:c},notifId:n},{headers:{authorization:localStorage.getItem("accessToken")}})}(t,e,a,s,T).then((function(e){var s=n.filter((function(e){return e._id===a}))[0];s.sold=!0,c(Object(l.a)(Object(l.a)({},t),{},{notifications:e.data.notifications}),a,s),C.b.success("".concat(e.data.msg," ").concat(i))})).catch((function(e){C.b.error("Couldn't notify"),console.log(e)}));var o={message:"approved you buy request for",name:t.name,email:t.email,to_email:e,to_name:i,object:s};V(o).then((function(e){I(!1),g(!1)})).catch((function(e){I(!1),g(!1),C.b.error("couldn't send mail!"),console.log(e)}))},B=function(e){b(!0);var s,n=Object(l.a)(Object(l.a)({},t),{},{notifications:t.notifications.filter((function(t){return t._id!==e}))});(s=e,v.a.delete(N+"/api/user/notif/".concat(s),{headers:{authorization:localStorage.getItem("accessToken")}})).then((function(){C.b.success("Deleted"),b(!1),c(n)})).catch((function(){C.b.error("Something went wrong")}))},M=function(e){var t;(t=e,v.a.put(N+"/api/lost-found/undo/".concat(t),{},{headers:{authorization:localStorage.getItem("accessToken")}})).then((function(){var e=a.filter((function(e){return e._id===A}))[0];e.claimed=!1,C.b.success("Claim undone"),i(e)})).catch((function(e){C.b.error("Couldn't undo claim"),console.log(e)}))};return Object(O.jsxs)("div",{className:"d-flex p-3 bg-light",style:{borderBottom:"1px solid #ccc"},children:[Object(O.jsx)("div",{className:"me-3",children:Object(O.jsx)("img",{src:L,alt:"",style:{width:"40px",height:"40px",borderRadius:"100%"}})}),Object(O.jsxs)("div",{className:"w-100",children:[Object(O.jsxs)("div",{className:"d-flex justify-content-between",children:[Object(O.jsxs)("div",{style:{fontSize:14,marginRight:10},children:[z," "," ",_," ",E]}),Object(O.jsx)("div",{role:"button",className:"text-danger",children:j?Object(O.jsx)("i",{children:"deleting..."}):Object(O.jsx)(m.a,{icon:u.w,size:"sm",onClick:function(){return B(T)}})})]}),Object(O.jsxs)("div",{className:"contacts d-flex flex-column flex-md-row",children:[Object(O.jsx)("span",{children:F&&Object(O.jsxs)("a",{href:"mailto:".concat(F),children:[Object(O.jsx)(m.a,{size:"sm",icon:u.j})," ",Object(O.jsx)("span",{style:{fontSize:13},className:"text-primary ms-1 me-3",children:F})]})}),Object(O.jsx)("span",{children:U&&Object(O.jsxs)("a",{href:"tel:".concat(U),children:[Object(O.jsx)(m.a,{size:"sm",icon:u.n}),Object(O.jsx)("span",{style:{fontSize:13},className:"mobile text-primary ms-1 me-3",children:U})]})})]}),Object(O.jsx)("div",{children:"wants to buy"===_?Object(O.jsx)(D,{itemTitle:E,message:_,buyerEmail:F,itemId:A,buyerName:z}):"wants to claim"===_?Object(O.jsx)(P,{}):null})]}),Object(O.jsxs)(Y.a,{show:p,onHide:function(){return g(!1)},children:[Object(O.jsx)(Y.a.Header,{children:"Do you want to claim it?"}),Object(O.jsxs)(Y.a.Body,{children:["Note: An official mail will be sent to the ",z," that you approved his/her buy request for ",E,"."]}),Object(O.jsxs)(Y.a.Footer,{children:[Object(O.jsx)(h.a,{size:"sm",variant:"danger",onClick:function(){return g(!1)},children:"Cancel"}),Object(O.jsx)(h.a,{disabled:S,size:"sm",onClick:function(){return R(F,E,A,z)},children:S?Object(O.jsx)("i",{children:"Sending..."}):"Send"})]})]})]},T)}));var X=Object(b.b)((function(e){return{user:e.user,auth:e.authorised,loading:e.loading}}),(function(e){return{Update:function(t){e({type:"UPDATE_USER",payload:t})}}}))((function(e){var t=e.auth,c=e.user.notifications,n=Object(s.useState)([]),a=Object(d.a)(n,2),i=a[0],l=a[1],o=Object(s.useState)(!0),r=Object(d.a)(o,2),j=r[0],b=r[1];return Object(s.useEffect)((function(){if(e.auth){var t=c.reverse();l(t),b(!1)}}),[c,e.loading,i,e.auth]),j?Object(O.jsx)(L,{}):Object(O.jsx)(O.Fragment,{children:Object(O.jsx)("section",{className:"section",children:Object(O.jsx)("div",{className:"container p-0",children:t?c.length>0?i.map((function(e,t){return Object(O.jsx)(J,{content:e},t)})):Object(O.jsx)("div",{className:"text-center mt-5 text-secondary",children:"No Notifications!"}):Object(O.jsx)(H,{})})})})}));var $=Object(x.j)(Object(b.b)((function(e){return{user:e.user,loading:e.loading,items:e.items}}),(function(e){return{Update:function(t){e({type:"UPDATE_USER",payload:t})}}}))((function(e){var t=Object(s.useState)([]),c=Object(d.a)(t,2),n=c[0],a=c[1],i=Object(s.useState)(!0),o=Object(d.a)(i,2),r=o[0],j=o[1],b=e.user,m=e.items;return Object(s.useEffect)((function(){if(!e.loading){for(var t=[],c=function(e){var c=b.orders[e];m.filter((function(e){return e._id===c._id})).length>0&&(c=Object(l.a)(Object(l.a)({},c),m.filter((function(e){return e._id===c._id}))[0]),t.push(c))},s=0;s<b.orders.length;s++)c(s);a(t),j(!1)}}),[m,b.orders,e.loading]),Object(O.jsx)(O.Fragment,{children:r?Object(O.jsx)(L,{}):Object(O.jsxs)(O.Fragment,{children:[Object(O.jsx)("div",{className:"results",children:Object(O.jsx)("h4",{className:"text-center py-3",children:"Orders"})}),n.length>0?Object(O.jsxs)(O.Fragment,{children:[Object(O.jsxs)("div",{className:"pb-5 container",children:[Object(O.jsxs)("h6",{children:["Pending Orders ",">>"]}),Object(O.jsx)(W,{items:n.filter((function(e){return!1===e.sold})),removeSold:!1})]}),Object(O.jsxs)("div",{className:"pb-5 container",children:[Object(O.jsxs)("h6",{children:["Approved Orders ",">>"]}),Object(O.jsx)(W,{items:n.filter((function(e){return!0===e.sold})),removeSold:!1})]})]}):Object(O.jsx)("div",{className:"text-secondary text-center mt-5",children:"Nothing to show!"})]})})})));function Z(){return Object(O.jsx)("div",{className:"container-lg py-5",children:Object(O.jsxs)("div",{className:"row",children:[Object(O.jsx)("div",{className:"col-6  p-3",children:Object(O.jsxs)("div",{className:"card p-4 home-card-lost",children:[Object(O.jsx)("h2",{children:"Lost Items"}),Object(O.jsx)("p",{children:"'Lost Items' page contains all lost items of IITI community. People can add a lost Item there with required details."}),Object(O.jsx)(j.b,{className:"non-outlined-btn text-decoration-none",to:"/lost",children:Object(O.jsx)("button",{class:"button-template lost-btn",children:"View \u2192"})})]})}),Object(O.jsx)("div",{className:"col-6  p-3",children:Object(O.jsxs)("div",{className:"card p-4 home-card-found",children:[Object(O.jsx)("h2",{children:"Found Items"}),Object(O.jsx)("p",{children:"'Found Items' page contains all found items of IITI community. People can add a found Item there with required details."}),Object(O.jsx)(j.b,{className:"non-outlined-btn text-decoration-none",to:"/found",children:Object(O.jsx)("button",{class:"button-template found-btn",children:"View \u2192"})})]})}),Object(O.jsx)("div",{className:"col-6  p-3",children:Object(O.jsxs)("div",{className:"card p-4 home-card-buy",children:[Object(O.jsx)("h2",{children:"Buy Items"}),Object(O.jsx)("p",{children:"'Buy' page contains various items with categories, so that people can buy items with ease."}),Object(O.jsx)(j.b,{className:"non-outlined-btn text-decoration-none",to:"/buy/All",children:Object(O.jsx)("button",{class:"button-template buy-btn",children:"View \u2192"})})]})}),Object(O.jsx)("div",{className:"col-6  p-3",children:Object(O.jsxs)("div",{className:"card p-4 home-card-sell",children:[Object(O.jsx)("h2",{children:"Sell Items"}),Object(O.jsx)("p",{children:"One can sell their stuff to others if it\u2019s not useful to them further or they are passing out of college."}),Object(O.jsx)(j.b,{className:"non-outlined-btn text-decoration-none",to:"/buy/All",children:Object(O.jsx)("button",{class:"button-template sell-btn",children:"View \u2192"})})]})})]})})}var Q=c(214),ee=c(210),te=c(217),ce=c(211);var se=Object(x.j)(Object(b.b)((function(e){return{user:e.user,auth:e.authorised,lofoItems:e.lofoItems}}))((function(e){var t=e.user,c=e.item,n=e.setFound,a=e.setLost,o=e.auth,r=Object(s.useState)(!1),j=Object(d.a)(r,2),b=j[0],x=j[1],f=Object(s.useState)(!1),p=Object(d.a)(f,2),g=p[0],w=p[1],S=Object(s.useState)(!1),I=Object(d.a)(S,2),k=I[0],E=I[1],T=function(e,t){x(!0),function(e){return v.a.delete("/api/lost-found/"+e,{headers:{authorization:localStorage.getItem("accessToken")}})}(e).then((function(c){x(!1),"lost"===t?a((function(t){return Object(i.a)(t.filter((function(t){return t._id!==e})))})):n((function(t){return Object(i.a)(t.filter((function(t){return t._id!==e})))})),C.b.success("Deleted")})).catch((function(e){x(!1),console.log(e),C.b.error("Couldn't delete")}))},_=function(e){var s=e._id,r=e.status,d=e.title,j=e.userEmail,b=e.userName;if(E(!0),!o)return E(!1),void C.b.error("Please Login first");var m={itemId:s,itemTitle:d,mobile:t.mobile,dp:t.imageUrl};m.message="lost"===r?"found your":"wants to claim",function(e,t){return v.a.put(N+"/api/lost-found/notify/".concat(e),{notification:t},{headers:{authorization:localStorage.getItem("accessToken")}})}(s,m).then((function(e){var t=Object(l.a)(Object(l.a)({},c),{},{claimed:!0});"lost"===r?a((function(e){return[].concat(Object(i.a)(e.filter((function(e){return e._id!==s}))),[t])})):n((function(e){return[].concat(Object(i.a)(e.filter((function(e){return e._id!==s}))),[t])})),C.b.success(e.data.message)})).catch((function(e){console.log(e),C.b.error("Failed to notify")}));var u={message:"lost"===r?"found your":"wants to claim",name:t.name,email:t.email,to_email:j,to_name:b,object:d};V(u).then((function(e){E(!1)})).catch((function(e){return C.b.error("couldn't send mail!")}))};return Object(O.jsxs)("div",{className:"p-3 rounded",style:{border:"1px solid #ccc"},children:[Object(O.jsxs)("div",{className:"d-flex gap-2",children:[Object(O.jsx)("div",{className:"mb-3",children:Object(O.jsx)("img",{style:{filter:c.claimed?"grayscale(1)":"none"},src:c.images?c.images.url:"".concat(c.status,".jpg"),alt:"Item",className:"l-f-img rounded"})}),Object(O.jsxs)("div",{className:"ms-3  w-100",style:{color:c.claimed&&"gray"},children:[Object(O.jsxs)("div",{className:"d-flex justify-content-between",children:[Object(O.jsxs)("div",{className:"p fw-bold",children:[c.title," "]}),Object(O.jsxs)("div",{className:"d-flex",children:[Object(O.jsx)("span",{className:"me-2",children:c.claimed?Object(O.jsx)("span",{disabled:!0,children:Object(O.jsx)(m.a,{size:"lg",icon:u.i,className:"ms-1"})}):c.userEmail!==t.email?Object(O.jsx)("div",{className:"rounded",size:"sm",role:"button",onClick:function(){return w(!0)},style:{fontSize:13,backgroundColor:"#07886c",color:"#fff",padding:"3px 8px"},children:"lost"===c.status?"I found":"It's mine"}):null}),c.userEmail===t.email||y.includes(t.email)?Object(O.jsx)("span",{onClick:function(){return T(c._id,c.status)},className:"text-danger ms-3",role:"button",children:b?Object(O.jsx)("i",{children:"deleting..."}):Object(O.jsx)(m.a,{size:"sm",icon:u.w})}):null]})]}),Object(O.jsx)("div",{style:{fontSize:13},children:c.date.slice(0,10)}),Object(O.jsxs)("div",{className:"row",children:[Object(O.jsxs)("div",{className:"col-12 col-md-9",children:[Object(O.jsxs)("div",{style:{fontSize:"13px"},children:[" ",c.userName]}),Object(O.jsxs)("div",{className:"d-flex",children:[Object(O.jsx)("div",{style:{fontSize:"13px"},className:"me-3",children:Object(O.jsx)("a",{href:"mailto:".concat(c.userEmail),children:Object(O.jsx)(m.a,{icon:u.j})})}),c.mobile?Object(O.jsx)("div",{style:{fontSize:"13px"},children:Object(O.jsx)("a",{href:"tel:".concat(c.mobile),children:Object(O.jsx)(m.a,{size:"sm",icon:u.o})})}):null]})]}),Object(O.jsx)("div",{className:"col-12 col-md-2 text-center"})]})]})]}),Object(O.jsx)("div",{className:"pt-2",style:{fontSize:"15px",color:c.claimed&&"gray"},children:c.description}),Object(O.jsxs)(Y.a,{show:g,onHide:function(){return w(!1)},children:[Object(O.jsx)(Y.a.Header,{children:"Do you want to claim it?"}),Object(O.jsxs)(Y.a.Body,{children:["Note: An official mail will be sent to the ",c.userName," that you ","lost"===c.status?"found":"own"," it."]}),Object(O.jsxs)(Y.a.Footer,{children:[Object(O.jsx)(h.a,{size:"sm",variant:"danger",onClick:function(){return w(!1)},children:"Cancel"}),Object(O.jsx)(h.a,{disabled:k,size:"sm",onClick:function(){return _(c)},children:k?Object(O.jsx)("i",{children:"Sending..."}):"Send"})]})]})]})})));var ne=Object(x.j)(Object(b.b)((function(e){return{user:e.user,auth:e.authorised,lofoItems:e.lofoItems,authLoading:e.authLoading}}))((function(e){var t=e.lofoItems,c=Object(s.useState)(!1),n=Object(d.a)(c,2),a=n[0],l=n[1],o=Object(s.useState)(!1),r=Object(d.a)(o,2),j=r[0],b=r[1],x=Object(s.useState)([]),f=Object(d.a)(x,2),p=f[0],g=f[1],v=Object(s.useState)(""),N=Object(d.a)(v,2),y=N[0],w=N[1],S=Object(s.useState)(""),k=Object(d.a)(S,2),E=k[0],T=k[1];function _(e){return Object(O.jsx)(O.Fragment,{children:Object(O.jsx)("div",{className:"container-fluid",style:{bgColor:"#555"},children:Object(O.jsx)("div",{className:"row mt-3",children:0===e.items.length?Object(O.jsx)("h6",{className:"text-center text-secondary mt-5",children:"No items!"}):e.items.map((function(e,t){return Object(O.jsx)("div",{className:"col-12 col-md-6 p-0 py-2 p-md-2",children:Object(O.jsx)(se,{setLost:g,item:e})},t)}))})})})}return Object(s.useEffect)((function(){g(t.filter((function(e){return"lost"===e.status&&e.title.toLowerCase().includes(y.toLowerCase())})))}),[y,t]),Object(O.jsx)(O.Fragment,{children:Object(O.jsxs)("div",{className:"my-3 container-lg px-3 px-md-4",children:[Object(O.jsxs)("div",{className:"d-flex mb-3 ms-2 p-0 justify-content-between",children:[Object(O.jsx)(Q.a,{onSubmit:function(e){e.preventDefault()},className:"w-50",children:Object(O.jsxs)(ee.a,{children:[Object(O.jsx)(Q.a.Control,{placeholder:"Search...",className:"non-outlined-btn",onChange:function(e){return w(e.target.value)},value:y,style:{borderRight:"none"}}),Object(O.jsx)(h.a,{size:"sm",onClick:function(){return w("")},variant:"transparent",className:"text-secondary",style:{border:"1px solid #ced4da",borderLeft:"none"},children:Object(O.jsx)(m.a,{icon:u.v,style:{opacity:""===y?"0":"1"}})})]})}),Object(O.jsxs)("div",{className:"p-1 px-2 my-auto rounded ",role:"button",onClick:function(){return b(!0)},style:{fontSize:13,backgroundColor:"#07886c",color:"#fff"},children:[Object(O.jsx)(m.a,{icon:u.p}),Object(O.jsx)("span",{className:"ms-2",children:"Add a Lost Item"})]})]}),Object(O.jsx)(te.a,{className:"d-flex mx-md-2",defaultActiveKey:"lost",transition:!1,id:"noanim-tab-example",children:Object(O.jsx)(ce.a,{eventKey:"lost",title:"Lost Items",children:Object(O.jsx)(_,{items:p})})}),Object(O.jsxs)(Y.a,{className:"p-0",onHide:function(){return b(!1)},show:j,children:[Object(O.jsxs)(Y.a.Header,{className:"fw-bold d-flex justify-content-between",children:[Object(O.jsx)("span",{children:"Add a Lost Item"}),Object(O.jsx)("span",{children:Object(O.jsx)(m.a,{size:"lg",icon:u.v,onClick:function(){return b(!1)},role:"button"})})]}),Object(O.jsx)(Y.a.Body,{children:Object(O.jsx)("div",{className:"d-flex flex-wrap justify-content-center",children:Object(O.jsxs)("form",{className:"needs-validation",id:"itemForm",noValidate:"",onSubmit:function(e){e.preventDefault();var t=e.target,c=new FormData(t);if(c.append("status","lost"),""!==E&&!E.type.includes("image"))return C.b.warning("Please select image files only, e.g: png, jpg, jpeg etc"),void l(!1);l(!0),I(c).then((function(e){console.log(e),C.b.success("Posted: ".concat(e.data.title)),g((function(t){return[e.data].concat(Object(i.a)(t))})),l(!1),b(!1)})).catch((function(e){l(!1),C.b.error("Failed to post"),console.log(e)}))},children:[Object(O.jsxs)("div",{className:"row g-4",children:[Object(O.jsxs)("div",{className:"col-12",children:[Object(O.jsxs)("label",{htmlFor:"productTitle",className:"form-label",children:["Title",Object(O.jsx)("span",{className:"text-danger fw-bold",children:"*"})]}),Object(O.jsx)("input",{autoCapitalize:"sentences",required:!0,type:"text",className:"form-control custom-form",id:"productTitle",placeholder:"Enter Title",name:"title"})]}),Object(O.jsxs)("div",{className:"col-12",children:[Object(O.jsxs)("label",{htmlFor:"description",className:"form-label",children:["Description",Object(O.jsx)("span",{className:"text-danger fw-bold",children:"*"})," "]}),Object(O.jsx)("div",{className:"input-group has-validation",children:Object(O.jsx)("textarea",{autoCapitalize:"sentences",required:!0,className:"form-control custom-form",id:"description",placeholder:"Enter Description",name:"description"})})]}),Object(O.jsxs)("div",{className:"d-flex justify-content-center flex-column bd-highlight mb-3",children:[Object(O.jsxs)("div",{className:"col-6 d-flex justify-content-center flex-column bd-highlight mb-4",children:[Object(O.jsxs)("label",{htmlFor:"date",className:"form-label",required:!0,children:["Date of Lost/Found",Object(O.jsx)("span",{className:"text-danger fw-bold",children:"*"})]}),Object(O.jsx)("input",{required:!0,min:"0",type:"date",className:"form-control",id:"date",placeholder:"Choose Date",name:"date"})]}),Object(O.jsxs)("div",{className:"col-12 d-flex justify-content-center flex-column bd-highlight mb-3",children:[Object(O.jsx)("label",{htmlFor:"image1",className:"form-label",children:"Upload Image e.g:  png, jpg, jpeg"}),Object(O.jsx)("input",{onChange:function(e){return T(e.target.files[0])},type:"file",accept:"image/*",className:"form-control",id:"image1",placeholder:"Required",name:"file1"})]})]})]}),Object(O.jsx)("hr",{className:"mb-3"}),Object(O.jsxs)("div",{className:"d-flex gap-3 w-50 m-auto bd-highlight mb-3 justify-content-center ",children:[Object(O.jsx)("button",{className:"w-100 btn btn-danger btn-sm",type:"reset",children:"Reset"}),Object(O.jsx)("button",{disabled:a,className:"w-100 btn btn-success btn-sm",type:"submit",children:a?"Posting...":"Post"})]})]})})})]}),Object(O.jsx)("br",{})]})})})));var ae=Object(x.j)(Object(b.b)((function(e){return{user:e.user,auth:e.authorised,lofoItems:e.lofoItems,authLoading:e.authLoading}}))((function(e){var t=e.lofoItems,c=Object(s.useState)(!1),n=Object(d.a)(c,2),a=n[0],l=n[1],o=Object(s.useState)(!1),r=Object(d.a)(o,2),j=r[0],b=r[1],x=Object(s.useState)([]),f=Object(d.a)(x,2),p=f[0],g=f[1],v=Object(s.useState)(""),N=Object(d.a)(v,2),y=N[0],w=N[1],S=Object(s.useState)(""),k=Object(d.a)(S,2),E=k[0],T=k[1];function _(e){return Object(O.jsx)(O.Fragment,{children:Object(O.jsx)("div",{className:"container-fluid",style:{bgColor:"#555"},children:Object(O.jsx)("div",{className:"row mt-3",children:0===e.items.length?Object(O.jsx)("h6",{className:"text-center text-secondary mt-5",children:"No items!"}):e.items.map((function(e,t){return Object(O.jsx)("div",{className:"col-12 col-md-6 p-0 py-2 p-md-2",children:Object(O.jsx)(se,{setFound:g,item:e})},t)}))})})})}return Object(s.useEffect)((function(){g(t.filter((function(e){return"found"===e.status&&e.title.toLowerCase().includes(y.toLowerCase())})))}),[y,t]),Object(O.jsx)(O.Fragment,{children:Object(O.jsxs)("div",{className:"py-3 container-lg px-3 px-md-4",children:[Object(O.jsxs)("div",{className:"d-flex mb-3 ms-2 p-0 justify-content-between",children:[Object(O.jsx)(Q.a,{onSubmit:function(e){e.preventDefault()},className:"w-50",children:Object(O.jsxs)(ee.a,{children:[Object(O.jsx)(Q.a.Control,{placeholder:"Search...",className:"non-outlined-btn",onChange:function(e){return w(e.target.value)},value:y,style:{borderRight:"none"}}),Object(O.jsx)(h.a,{size:"sm",onClick:function(){return w("")},variant:"transparent",className:"text-secondary",style:{border:"1px solid #ced4da",borderLeft:"none"},children:Object(O.jsx)(m.a,{icon:u.v,style:{opacity:""===y?"0":"1"}})})]})}),Object(O.jsxs)("div",{className:"p-1 px-2 my-auto rounded ",role:"button",onClick:function(){return b(!0)},style:{fontSize:13,backgroundColor:"#07886c",color:"#fff"},children:[Object(O.jsx)(m.a,{icon:u.p}),Object(O.jsx)("span",{className:"ms-2",children:"Add a Found Item"})]})]}),Object(O.jsx)(te.a,{className:"d-flex mx-md-2",defaultActiveKey:"found",transition:!1,id:"noanim-tab-example",children:Object(O.jsx)(ce.a,{eventKey:"found",title:"Found Items",children:Object(O.jsx)(_,{items:p})})}),Object(O.jsxs)(Y.a,{className:"p-0",onHide:function(){return b(!1)},show:j,children:[Object(O.jsxs)(Y.a.Header,{className:"fw-bold d-flex justify-content-between",children:[Object(O.jsx)("span",{children:"Add a Found Item"}),Object(O.jsx)("span",{children:Object(O.jsx)(m.a,{size:"lg",icon:u.v,onClick:function(){return b(!1)},role:"button"})})]}),Object(O.jsx)(Y.a.Body,{children:Object(O.jsx)("div",{className:"d-flex flex-wrap justify-content-center",children:Object(O.jsxs)("form",{className:"needs-validation",id:"itemForm",noValidate:"",onSubmit:function(e){e.preventDefault();var t=e.target,c=new FormData(t);if(c.append("status","found"),""!==E&&!E.type.includes("image"))return C.b.warning("Please select image files only, e.g: png, jpg, jpeg etc"),void l(!1);l(!0),I(c).then((function(e){console.log(e),C.b.success("Posted: ".concat(e.data.title)),g((function(t){return[e.data].concat(Object(i.a)(t))})),l(!1),b(!1)})).catch((function(e){l(!1),C.b.error("Failed to post"),console.log(e)}))},children:[Object(O.jsxs)("div",{className:"row g-4",children:[Object(O.jsxs)("div",{className:"col-12",children:[Object(O.jsxs)("label",{htmlFor:"productTitle",className:"form-label",children:["Title",Object(O.jsx)("span",{className:"text-danger fw-bold",children:"*"})]}),Object(O.jsx)("input",{autoCapitalize:"sentences",required:!0,type:"text",className:"form-control custom-form",id:"productTitle",placeholder:"Enter Title",name:"title"})]}),Object(O.jsxs)("div",{className:"col-12",children:[Object(O.jsxs)("label",{htmlFor:"description",className:"form-label",children:["Description",Object(O.jsx)("span",{className:"text-danger fw-bold",children:"*"})," "]}),Object(O.jsx)("div",{className:"input-group has-validation",children:Object(O.jsx)("textarea",{autoCapitalize:"sentences",required:!0,className:"form-control custom-form",id:"description",placeholder:"Enter Description",name:"description"})})]}),Object(O.jsxs)("div",{className:"d-flex justify-content-center flex-column bd-highlight mb-3",children:[Object(O.jsxs)("div",{className:"col-6 d-flex justify-content-center flex-column bd-highlight mb-4",children:[Object(O.jsxs)("label",{htmlFor:"date",className:"form-label",required:!0,children:["Date of found/Found",Object(O.jsx)("span",{className:"text-danger fw-bold",children:"*"})]}),Object(O.jsx)("input",{required:!0,min:"0",type:"date",className:"form-control",id:"date",placeholder:"Choose Date",name:"date"})]}),Object(O.jsxs)("div",{className:"col-12 d-flex justify-content-center flex-column bd-highlight mb-3",children:[Object(O.jsx)("label",{htmlFor:"image1",className:"form-label",children:"Upload Image e.g:  png, jpg, jpeg"}),Object(O.jsx)("input",{onChange:function(e){return T(e.target.files[0])},type:"file",accept:"image/*",className:"form-control",id:"image1",placeholder:"Required",name:"file1"})]})]})]}),Object(O.jsx)("hr",{className:"mb-3"}),Object(O.jsxs)("div",{className:"d-flex gap-3 w-50 m-auto bd-highlight mb-3 justify-content-center ",children:[Object(O.jsx)("button",{className:"w-100 btn btn-danger btn-sm",type:"reset",children:"Reset"}),Object(O.jsx)("button",{disabled:a,className:"w-100 btn btn-success btn-sm",type:"submit",children:a?"Posting...":"Post"})]})]})})})]}),Object(O.jsx)("br",{})]})})})));c(182);var ie=Object(b.b)((function(e){return{user:e.user,auth:e.authorised}}))((function(e){var t=e.item,c=e.user,s=e.auth;return Object(O.jsx)(O.Fragment,{children:Object(O.jsxs)(P.a,{style:{minwidth:"180px",maxWidth:250,margin:"auto"},children:[Object(O.jsx)(j.b,{to:"/product/".concat(t._id),children:Object(O.jsx)(P.a.Img,{src:t.images[0].url,alt:"item-img",style:{cursor:"pointer",height:"120px"}})}),Object(O.jsxs)(P.a.Body,{children:[Object(O.jsx)("div",{className:"h6 fw-bold",children:t.title}),Object(O.jsxs)("div",{style:{fontSize:"13px"},children:["  \u20b9 ",t.price]})]}),Object(O.jsxs)(P.a.Footer,{children:[t.sold?Object(O.jsx)("span",{className:"text-danger",children:"Sold out!"}):Object(O.jsxs)(h.a,{size:"sm",as:j.b,to:"/product/".concat(t._id),style:{backgroundColor:"#07886c",border:"none"},children:[Object(O.jsx)(m.a,{className:"me-1",icon:u.g})," View "]}),s?c.ads.filter((function(e){return e._id===t._id})).length>0||y.includes(c.email)?Object(O.jsx)(M,{update:e.update,removeSold:e.removeSold,id:t._id}):t.sold?null:Object(O.jsx)(B,{item:t}):null]})]},t._id)})}));var le=Object(x.j)(Object(b.b)((function(e){return{user:e.user,auth:e.authorised,items:e.items}}))((function(e){var t=Object(s.useState)(""),c=Object(d.a)(t,2),n=c[0],a=c[1],i=Object(x.i)().category,l=Object(s.useState)([]),o=Object(d.a)(l,2),r=o[0],b=o[1],f=Object(s.useState)(!0),p=Object(d.a)(f,2),g=p[0],v=p[1];return Object(s.useEffect)((function(){v(!0),b(e.items),v(!1)}),[e.items]),Object(s.useEffect)((function(){b("All"===i?e.items.filter((function(e){return e.title.includes(n)})):function(e){return e.filter((function(e){return e.categories.includes(i)&&e.title.includes(n)}))})}),[i,e.items,n]),Object(O.jsx)(O.Fragment,{children:Object(O.jsx)("section",{children:Object(O.jsx)("div",{className:"container-fluid px-4",children:Object(O.jsxs)("div",{className:"row",children:[Object(O.jsxs)("div",{className:"col-12 p-0 p-md-2 d-flex flex-column-reverse flex-md-column col-md-3 col-lg-2",children:[Object(O.jsx)(Q.a,{onSubmit:function(e){e.preventDefault(),a(e.target.value)},className:"my-3 px-md-2",children:Object(O.jsx)(ee.a,{children:Object(O.jsx)(Q.a.Control,{placeholder:"Search items...",className:"non-outlined-btn",onChange:function(e){a(e.target.value)}})})}),Object(O.jsxs)("div",{className:"row px-0 px-md-4",children:[Object(O.jsx)("div",{style:{borderBottom:"1px solid #cccccc"},className:"col-2 px-0 col-md-12 text-center text-md-start",children:Object(O.jsxs)(h.a,{as:j.b,to:"/buy/All",className:"non-outlined-btn w-100 text-md-start category-btn",variant:"transparent",style:{color:"All"===i?"#07886c":"#212529",fontWeight:"All"===i?"bold":"normal"},children:[Object(O.jsx)(m.a,{icon:u.u}),Object(O.jsx)("span",{className:"ms-2 d-none d-md-inline",children:"All"})]})}),Object(O.jsx)("div",{style:{borderBottom:"1px solid #cccccc"},className:"col-2 px-0 col-md-12 text-center text-md-start",children:Object(O.jsxs)(h.a,{as:j.b,to:"/buy/Sports",className:"non-outlined-btn w-100 text-md-start category-btn",variant:"transparent",style:{color:"Sports"===i?"#07886c":"#212529",fontWeight:"Sports"===i?"bold":"normal"},children:[Object(O.jsx)(m.a,{icon:u.d}),Object(O.jsx)("span",{className:"ms-2 d-none d-md-inline",children:"Sports"})]})}),Object(O.jsx)("div",{style:{borderBottom:"1px solid #cccccc"},className:"col-2 px-0 col-md-12 text-center text-md-start",children:Object(O.jsxs)(h.a,{as:j.b,to:"/buy/Books",className:"non-outlined-btn w-100 text-md-start category-btn",variant:"transparent",style:{color:"Books"===i?"#07886c":"#212529",fontWeight:"Books"===i?"bold":"normal"},children:[Object(O.jsx)(m.a,{icon:u.f}),Object(O.jsx)("span",{className:"ms-2 d-none d-md-inline",children:"Books"})]})}),Object(O.jsx)("div",{style:{borderBottom:"1px solid #cccccc"},className:"col-2 px-0 col-md-12 text-center text-md-start",children:Object(O.jsxs)(h.a,{as:j.b,to:"/buy/Games",className:"non-outlined-btn w-100 text-md-start category-btn",variant:"transparent",style:{color:"Games"===i?"#07886c":"#212529",fontWeight:"Games"===i?"bold":"normal"},children:[Object(O.jsx)(m.a,{icon:u.k}),Object(O.jsx)("span",{className:"ms-2 d-none d-md-inline",children:"Games"})]})}),Object(O.jsx)("div",{style:{borderBottom:"1px solid #cccccc"},className:"col-2 px-0 col-md-12 text-center text-md-start",children:Object(O.jsxs)(h.a,{as:j.b,to:"/buy/Utilities",className:"non-outlined-btn w-100 text-md-start category-btn",variant:"transparent",style:{color:"Utilities"===i?"#07886c":"#212529",fontWeight:"Utilities"===i?"bold":"normal"},children:[Object(O.jsx)(m.a,{icon:u.t}),Object(O.jsx)("span",{className:"ms-2 d-none d-md-inline",children:"Utilities"})]})}),Object(O.jsx)("div",{style:{borderBottom:"1px solid #cccccc"},className:"col-2 px-0 col-md-12 text-center text-md-start",children:Object(O.jsxs)(h.a,{as:j.b,to:"/buy/Other",className:"non-outlined-btn w-100 text-md-start category-btn",variant:"transparent",style:{color:"Other"===i?"#07886c":"#212529",fontWeight:"Other"===i?"bold":"normal"},children:[Object(O.jsx)(m.a,{icon:u.s}),Object(O.jsx)("span",{className:"ms-2 d-none d-md-inline",children:"Other"})]})})]})]}),Object(O.jsx)("div",{className:"col-12 col-md-9 col-lg-10",style:{borderLeft:"1px solid #cccccc"},children:Object(O.jsx)("div",{className:"row",children:Object(O.jsx)("div",{className:"col-12 py-3",style:{height:"80vh",overflowY:"scroll"},children:g?Object(O.jsx)(L,{}):Object(O.jsxs)("div",{className:"row px-md-3",children:[Object(O.jsx)("div",{className:"text-center d-md-none",children:i}),0===r.length?Object(O.jsx)("h6",{className:"text-center text-secondary mt-5",children:"No Items!"}):r.map((function(e,t){return Object(O.jsx)("div",{className:"col-6 col-md-4 col-lg-3 p-2",children:Object(O.jsx)(ie,{item:e})},t)}))]})})})})]})})})})}))),oe=c(71);var re=Object(b.b)((function(e){return{user:e.user,auth:e.authorised}}),(function(e){return{Update:function(t){e({type:"UPDATE_USER",payload:t})}}}))((function(e){var t=e.user,c=e.auth,n=e.id,a=e.product,o=Object(s.useState)(!1),r=Object(d.a)(o,2),j=r[0],b=r[1],m=Object(s.useState)(!1),u=Object(d.a)(m,2),x=u[0],f=u[1];return Object(O.jsxs)(O.Fragment,{children:[Object(O.jsx)(h.a,{onClick:function(){return b(!0)},size:"sm",type:"button",className:"btn-warning non-outlined-btn btn-md mr-1 mb-2",children:"Buy now"}),Object(O.jsxs)(Y.a,{show:j,onHide:function(){return b(!1)},children:[Object(O.jsx)(Y.a.Header,{children:"Do you want to claim it?"}),Object(O.jsxs)(Y.a.Body,{children:["Note: An official mail will be sent to the ",a.userName," that you want to buy it."]}),Object(O.jsxs)(Y.a.Footer,{children:[Object(O.jsx)(h.a,{size:"sm",variant:"danger",onClick:function(){return b(!1)},children:"Cancel"}),Object(O.jsx)(h.a,{disabled:x,size:"sm",onClick:function(){if(f(!0),c){(function(e,t,c,s){return v.a.put(N+"/api/items/buy/".concat(e),{notification:{message:"wants to buy",itemTitle:t,mobile:c,dp:s,itemId:e}},{headers:{authorization:localStorage.getItem("accessToken")}})})(n,a.title,t.mobile,t.imageUrl).then((function(c){var s=Object(l.a)(Object(l.a)({},t),{},{orders:[{success:!1,_id:n}].concat(Object(i.a)(t.orders))});e.Update(s),C.b.success(c.data)})).catch((function(e){C.b.error("Failed to notify seller"),console.log(e.message)}));var s={message:"wants to buy",name:t.name,email:t.email,to_email:a.userEmail,to_name:a.userName,object:a.title};V(s).then((function(e){f(!1),b(!1)})).catch((function(e){return C.b.error("couldn't send mail!")}))}else C.b.error("Please Login first ")},children:x?Object(O.jsx)("i",{children:"Sending..."}):"Send"})]})]})]})})),de=c(114),je=c.n(de);c(195);var be=Object(b.b)((function(e){return{user:e.user,auth:e.authorised}}))((function(e){return Object(O.jsx)(O.Fragment,{children:e.items.length>0?Object(O.jsx)(je.a,{responsive:{superLargeDesktop:{breakpoint:{max:4e3,min:3e3},items:5},desktop:{breakpoint:{max:3e3,min:1024},items:4},tablet:{breakpoint:{max:1024,min:464},items:2},mobile:{breakpoint:{max:464,min:0},items:1}},autoPlaySpeed:2e3,autoPlay:!0,infinite:!0,children:e.items.map((function(e,t){return Object(O.jsx)(ie,{item:e},t)}))}):Object(O.jsx)("h6",{className:"text-center text-secondary mt-5",children:"No similar items!"})})}));var me=Object(x.j)(Object(b.b)((function(e){return{user:e.user,auth:e.authorised,items:e.items}}))((function(e){var t=e.user,c=e.auth,n=Object(x.i)().id,a=Object(s.useState)({}),i=Object(d.a)(a,2),l=i[0],o=i[1],r=Object(s.useState)([{url:null}]),j=Object(d.a)(r,2),b=j[0],f=j[1],p=Object(s.useState)(!0),g=Object(d.a)(p,2),N=g[0],y=g[1],w=Object(s.useState)(!1),S=Object(d.a)(w,2),I=S[0],k=S[1],E=Object(s.useState)(0),T=Object(d.a)(E,2),_=T[0],z=T[1],F=Object(s.useState)(""),U=Object(d.a)(F,2),A=U[0],D=U[1],P=Object(s.useState)([]),R=Object(d.a)(P,2),W=R[0],q=R[1],K=Object(s.useState)(null),Y=Object(d.a)(K,2),G=Y[0],V=Y[1];return Object(s.useEffect)((function(){var e,c=Object(oe.a)(t.orders);try{for(c.s();!(e=c.n()).done;){var s=e.value;s._id===n&&V(s)}}catch(I){c.e(I)}finally{c.f()}}),[n,t.orders]),Object(s.useEffect)((function(){(function(e){return v.a.get("/api/items/"+e)})(n).then((function(e){o(e.data),y(!1),D(new Date(e.data.date)),f(e.data.images)})).catch((function(e){console.log(e),C.b.error("Failed to load product"),k(!0),y(!1)}))}),[n]),Object(s.useEffect)((function(){l.title&&q(e.items.filter((function(e){return e.categories.includes(l.categories[0]&&e._id!==n)})))}),[l.categories,e.items,l.title,n]),N?Object(O.jsx)(L,{}):I?Object(O.jsx)("h2",{className:"text-center mt-5 text-secondary",children:"There is an error while loading product details."}):Object(O.jsxs)(O.Fragment,{children:[" ",l.title?Object(O.jsxs)("section",{className:" py-3 container-fluid",children:[Object(O.jsxs)("div",{className:"my-3 row ",children:[Object(O.jsxs)("div",{className:"col-md-6 mb-4 mb-md-0",children:[Object(O.jsx)("div",{id:"mdb-lightbox-ui"}),Object(O.jsx)("div",{className:"mdb-lightbox",children:Object(O.jsxs)("div",{className:"row product-gallery mx-1",children:[Object(O.jsx)("div",{className:"col-1 d-flex m-auto",onClick:function(){return z((function(e){return e>0?e-1:e}))},children:Object(O.jsx)(m.a,{size:"lg",icon:u.a})}),Object(O.jsx)("div",{className:"col-10 mb-0",children:Object(O.jsx)("figure",{className:"text-center view overlay rounded z-depth-1 main-img",children:Object(O.jsx)("a",{href:b[_].url,"data-size":"710x823",children:Object(O.jsx)("img",{alt:"",src:b[_].url,className:"img-fluid z-depth-1"})})})}),Object(O.jsx)("div",{className:"col-1 d-flex m-auto",onClick:function(){return z((function(e){return e<b.length-1?e+1:e}))},children:Object(O.jsx)(m.a,{size:"lg",icon:u.b})}),Object(O.jsxs)("div",{className:"col-12 text-center",children:[_+1," / ",b.length]})]})})]}),Object(O.jsxs)("div",{className:"bg-light p-3 col-md-6 bordered",children:[Object(O.jsxs)("div",{className:"d-flex justify-content-between",children:[Object(O.jsx)("h5",{className:"fw-bold",children:l.title}),Object(O.jsx)("p",{className:"mb-2 text-muted text-uppercase small",children:l.categories.map((function(e,t){return Object(O.jsx)("span",{className:"me-3",children:e},t)}))})]}),Object(O.jsx)("div",{className:"my-1",children:l.description}),Object(O.jsxs)("div",{className:"my-1 fw-bold",children:["\u20b9 ",l.price]}),Object(O.jsxs)("div",{className:"table-responsive",children:[Object(O.jsxs)("div",{className:"my-1",children:["Seller: ",l.userName]}),Object(O.jsxs)("div",{className:"my-1",children:["Email:",Object(O.jsx)("a",{className:"ms-2",href:"mailto:".concat(l.userEmail),children:l.userEmail})]}),l.mobile&&Object(O.jsxs)("div",{className:"my-1",children:["Mobile:",Object(O.jsx)("a",{className:"ms-2",href:"tel:".concat(l.mobile),children:l.mobile})]}),Object(O.jsxs)("div",{className:"my-1",children:["Date:",Object(O.jsxs)("span",{children:[" ",A.toString().split(" ")[0]+", "+A.toString().split(" ")[2]+" "+A.toString().split(" ")[1]+" "+A.toString().split(" ")[3]," "]})]})]}),Object(O.jsx)("hr",{}),e.auth?t.ads.filter((function(e){return e._id===l._id})).length>0?Object(O.jsx)(M,{toHome:!0,id:n}):Object(O.jsxs)(O.Fragment,{children:[null!==G?G.success?Object(O.jsx)(h.a,{size:"sm",className:"btn-success non-outlined-btn btn-md mr-1 mb-2",disabled:!0,children:"Approved"}):l.sold?Object(O.jsx)(h.a,{size:"sm",className:"btn-danger non-outlined-btn btn-md mr-1 mb-2",disabled:!0,children:"Sold out!"}):Object(O.jsx)(h.a,{size:"sm",className:"btn-warning non-outlined-btn btn-md mr-1 mb-2",disabled:!0,children:"Notified"}):l.sold?Object(O.jsx)(h.a,{size:"sm",className:"btn-danger non-outlined-btn btn-md mr-1 mb-2",disabled:!0,children:"Sold out!"}):c?Object(O.jsx)(re,{id:n,product:l}):Object(O.jsx)("div",{className:"text-danger",children:"Login to buy"}),!l.sold&&Object(O.jsxs)("span",{className:"ms-2",children:[" ",Object(O.jsx)(B,{item:l}),"Add to wishlist "]})]}):c?Object(O.jsx)(re,{id:n,product:l}):Object(O.jsx)("div",{className:"text-danger",children:"Login to buy"})]})]}),Object(O.jsx)("br",{}),Object(O.jsxs)("div",{className:"container my-3",children:[Object(O.jsxs)("h6",{className:"mb-3",children:["Similar Items ",">>"]}),Object(O.jsx)(be,{items:W,removeSold:!0,removeFav:!1})]}),Object(O.jsx)("br",{})]}):Object(O.jsx)(H,{})]})})));var ue=Object(b.b)((function(e){return{user:e.user,auth:e.authorised,loading:e.loading}}),(function(e){return{setUser:function(t){console.log("set user action ",t),e({type:"SET_USER",payload:t})},Logout:function(){e({type:"CLEAR_USER"})}}}))((function(e){console.log("In body");var t=Object(x.g)(),c=e.Logout,n=e.setUser,a=e.auth,i=e.user,l=Object(s.useState)(null),j=Object(d.a)(l,2),b=j[0],m=j[1];return Object(s.useEffect)((function(){m(!0);var e=function(){var e=Object(r.a)(Object(o.a)().mark((function e(){var s,a,i,l,r,d,j,b,u,h,x,O,f;return Object(o.a)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return s=null,console.log("In admin user fetch action redux"),e.prev=2,e.next=5,v.a.get("/api/user/getUser",{headers:{authorization:localStorage.getItem("accessToken")}});case 5:a=e.sent,i=a.data,console.log("Fetch data",i),(s=i.user)?(console.log("User found"),r=(l=s)._id,d=l.mobile,j=l.program,b=l.department,u=l.graduationYear,h=l.notifications,x=l.orders,O=l.ads,f=l.favourites,s._id=r,s.mobile=d,s.program=j,s.imageUrl=localStorage.getItem("imageUrl"),s.department=b,s.graduationYear=u,s.notifications=h,s.orders=x,s.ads=O,s.favourites=f,console.log("returning ",s),n({user:s})):(console.log("User not found"),localStorage.setItem("accessToken",null),c()),e.next=18;break;case 12:e.prev=12,e.t0=e.catch(2),console.log("error ",e.t0),localStorage.setItem("accessToken",null),c(),t.push("/");case 18:m(!1);case 19:case"end":return e.stop()}}),e,null,[[2,12]])})));return function(){return e.apply(this,arguments)}}();return e(),function(){}}),[c,n,t]),Object(O.jsx)(O.Fragment,{children:a&&""!==i._id&&!b?Object(O.jsxs)(O.Fragment,{children:[Object(O.jsx)(x.b,{path:"/notifications",exact:!0,component:X},0),Object(O.jsx)(x.b,{path:"/profile",exact:!0,component:D},1),Object(O.jsx)(x.b,{path:"/wishlist",exact:!0,component:q},2),Object(O.jsx)(x.b,{path:"/your-ads",exact:!0,component:K},3),Object(O.jsx)(x.b,{path:"/orders",exact:!0,component:$},4),Object(O.jsx)(x.b,{path:"/",exact:!0,component:Z}),Object(O.jsx)(x.b,{path:"/buy/:category",exact:!0,component:le}),Object(O.jsx)(x.b,{path:"/product/:id",exact:!0,component:me}),Object(O.jsx)(x.b,{path:"/sell",exact:!0,component:A}),Object(O.jsx)(x.b,{path:"/lost",exact:!0,component:ne}),Object(O.jsx)(x.b,{path:"/found",exact:!0,component:ae})]}):Object(O.jsx)(L,{})})})),he=(c(196),function(){return Object(O.jsx)(O.Fragment,{children:Object(O.jsx)("div",{className:" footer container-fluid p-3 px-4",children:Object(O.jsxs)("div",{className:"row text-secondary",children:[Object(O.jsx)("div",{className:"col-12 col-md-6 text-center text-md-start",children:Object(O.jsx)("div",{style:{fontSize:14},children:"LoFo | IIT Indore \xa9 2022"})}),Object(O.jsx)("div",{className:"col-12 col-md-6 text-center text-md-end",children:Object(O.jsx)("div",{style:{fontSize:14},children:"An initiative by Students of IIT Indore"})})]})})})});c(197);function xe(){var e=Object(x.h)().pathname;return Object(s.useEffect)((function(){window.scrollTo(0,0)}),[e]),null}var Oe=c(118);c(202);function fe(){return Object(O.jsxs)(O.Fragment,{children:[Object(O.jsx)("div",{className:"container-fluid mt-2 py-5 px-3",children:Object(O.jsx)("div",{className:"container",children:Object(O.jsxs)("div",{className:"row p-0",children:[Object(O.jsxs)("div",{className:"col-8 my-auto",children:[Object(O.jsx)("h2",{className:"display-6 fw-bold ",children:"The LoFo App"}),Object(O.jsx)("p",{className:"",children:"LoFo is a network developed by a group of undergraduate students from IIT Indore.It is an app which resolves the problem of lost/found and buying/selling in college life of students and residents."}),Object(O.jsx)("br",{})]}),Object(O.jsx)("div",{className:"col-4 box",children:Object(O.jsx)("img",{className:" ms-5 w-75",alt:"",src:"logo.webp"})}),Object(O.jsxs)("div",{className:"col-12",children:[Object(O.jsx)("h6",{className:"fw-bold",children:"Future Plans"}),Object(O.jsx)("p",{children:"Future plans are to make customization and  modifications by extending the backend to be compatible for web clients and to make a convenient and easily operated mobile app."}),Object(O.jsx)("br",{})]})]})})}),Object(O.jsx)("div",{className:"container-fluid deep mt-2 py-5 px-3",children:Object(O.jsx)("div",{className:"container",children:Object(O.jsxs)("div",{className:"row p-0",children:[Object(O.jsxs)("div",{className:"col-8 my-auto",children:[Object(O.jsx)("h2",{className:"display-6 fw-bold",children:"Lost and Found"}),Object(O.jsx)("p",{className:"",children:"Students in their restless schedule are likely expected to misplace or forget some of their stuff. This creates crucial concerns for the students."}),Object(O.jsx)("br",{})]}),Object(O.jsx)("div",{className:"col-4 box",children:Object(O.jsx)("img",{className:"w-100 ",alt:"",src:"lofo.jpg"})}),Object(O.jsxs)("div",{className:"col-12",children:[Object(O.jsx)("h5",{className:"fw-bold",children:"Instructions:"}),Object(O.jsx)("p",{children:"To register yourself on the site, login with your institute email id (@iiti.ac.in)."}),Object(O.jsxs)("p",{children:[Object(O.jsx)("span",{style:{fontWeight:"bold"},children:"If you found something:"})," Navigate to the ",Object(O.jsx)("span",{style:{fontWeight:"bold"},children:"Lost"})," section and check if the item you found has been listed by the owner or not.",Object(O.jsxs)("ul",{children:[Object(O.jsxs)("li",{children:["If the item is present, you can click/tap the ",Object(O.jsx)("span",{style:{fontWeight:"bold"},children:Object(O.jsx)("span",{className:"rounded",size:"sm",style:{fontSize:13,backgroundColor:"#07886c",color:"#fff",padding:"3px 8px"},children:"I found"})})," button which would then send and automated email to the owner."]}),Object(O.jsxs)("li",{children:["If the item is not present, tap on the ",Object(O.jsx)("span",{style:{fontWeight:"bold"},children:Object(O.jsx)("span",{className:"rounded",size:"sm",style:{fontSize:13,backgroundColor:"#07886c",color:"#fff",padding:"3px 8px"},children:"Add +"})})," button and enter the item details accordingly. Select the ",Object(O.jsx)("span",{style:{fontWeight:"bold"},children:"found"})," option for the item status."]})]})]}),Object(O.jsx)("br",{}),Object(O.jsxs)("p",{children:[Object(O.jsx)("span",{style:{fontWeight:"bold"},children:"If you lost something: "}),"Navigate to the ",Object(O.jsx)("span",{style:{fontWeight:"bold"},children:"Found"})," section and check if your belonging has been listed as found by any resident of the institute or not.",Object(O.jsxs)("ul",{children:[Object(O.jsxs)("li",{children:["If the item has been listed tap/click on the ",Object(O.jsx)("span",{style:{fontWeight:"bold"},children:Object(O.jsx)("span",{className:"rounded",size:"sm",style:{fontSize:13,backgroundColor:"#07886c",color:"#fff",padding:"3px 8px"},children:"It's mine"})})," button to claim it. An automated email would be sent to the the person who found it."]}),Object(O.jsxs)("li",{children:["If the item has not been listed, tap on the ",Object(O.jsx)("span",{style:{fontWeight:"bold"},children:Object(O.jsx)("span",{className:"rounded",size:"sm",style:{fontSize:13,backgroundColor:"#07886c",color:"#fff",padding:"3px 8px"},children:"Add +"})})," button and fill in the item's details. Select the status to be ",Object(O.jsx)("span",{style:{fontWeight:"bold"},children:"lost"}),". You'd get an email once anyone find it."]})]})]})]})]})})}),Object(O.jsx)("div",{className:"container-fluid mt-2 py-5 px-3",children:Object(O.jsx)("div",{className:"container",children:Object(O.jsxs)("div",{className:"row p-0",children:[Object(O.jsxs)("div",{className:"col-8 my-auto",children:[Object(O.jsx)("h2",{className:"display-6 fw-bold",children:"Buying and Selling"}),Object(O.jsx)("p",{className:"",children:"Students can sell their stuff to new students and residents if it\u2019s not useful to them further or they are passing out of college. This will help students to get products at a budget price without having any inconvenience."}),Object(O.jsx)("br",{})]}),Object(O.jsx)("div",{className:"col-4 box",children:Object(O.jsx)("img",{className:"w-100 ",alt:"",src:"buy-sell.webp"})}),Object(O.jsxs)("div",{className:"col-12",children:[Object(O.jsx)("h5",{className:"fw-bold",children:"Instructions:"}),Object(O.jsx)("p",{children:"To register yourself on the site, login with your institute email id (@iiti.ac.in)."}),Object(O.jsxs)("p",{children:[Object(O.jsx)("span",{style:{fontWeight:"bold"},children:"Buy:"})," There is a buy section where you can find items with categories.",Object(O.jsxs)("ul",{children:[Object(O.jsxs)("li",{children:["You can send buy request to the owner of item by clicking the ",Object(O.jsx)("span",{style:{fontWeight:"bold"},children:Object(O.jsx)("span",{className:"rounded",size:"sm",style:{fontSize:13,backgroundColor:"#ffca2c",color:"#000",padding:"3px 8px"},children:"Buy Now"})})," button which would then send and automated email to the owner."]}),Object(O.jsxs)("li",{children:["You can wishlist the item by clicking the ",Object(O.jsx)("span",{style:{fontWeight:"bold"},children:Object(O.jsx)("span",{className:"rounded",size:"sm",style:{fontSize:13,color:"#07886c",padding:"3px 8px"},children:Object(O.jsx)(m.a,{size:"lg",icon:R.a})})})," button."]})]})]}),Object(O.jsx)("br",{}),Object(O.jsxs)("p",{children:[Object(O.jsx)("span",{style:{fontWeight:"bold"},children:"Sell: "}),"There is a section where you can post for selling you spares or giveaway.",Object(O.jsxs)("ul",{children:[Object(O.jsx)("li",{children:"Fill the required details in the form and post."}),Object(O.jsx)("li",{children:"When someone send the buy request for your item, you will recieve notification and automated mail. You can approve it in the notification section and contact the buyer with the given details."})]})]})]})]})})}),Object(O.jsx)("div",{className:"container-fluid deep mt-2 py-5 px-3",children:Object(O.jsx)("div",{className:"container",children:Object(O.jsxs)("div",{className:"row p-0",children:[Object(O.jsxs)("div",{className:"col-8 my-auto",children:[Object(O.jsx)("h2",{className:"display-6 fw-bold",children:"Contributions"}),Object(O.jsxs)("p",{className:"",children:[Object(O.jsx)("b",{children:"Contributers are welcome!"}),Object(O.jsx)("br",{}),"If you are interested to contribute in LoFo, you can create issues on github and make the changes followed by pull request. Better code will be merged to the main code. Give Feedback on  ",Object(O.jsx)("a",{href:"mailto:lofo@iiti.ac.in",children:"lofo@iiti.ac.in"})]}),Object(O.jsx)("br",{})]}),Object(O.jsx)("div",{className:"col-4 box",children:Object(O.jsx)("img",{className:"w-100 ",alt:"",src:"join-our-team.jpg"})}),Object(O.jsxs)("div",{className:"col-12",children:[Object(O.jsx)("h5",{className:"fw-bold",children:"Join our Team"}),Object(O.jsx)("br",{}),Object(O.jsxs)("div",{className:"d-flex",children:[Object(O.jsxs)("div",{className:"",style:{width:90,borderRadius:"100%"},children:[Object(O.jsx)("img",{src:"Suman-Jaiswal.webp",alt:"",style:{width:100,borderRadius:"100%"}}),Object(O.jsx)("div",{className:"p text-center mt-2 ms-2",children:"Suman"})]}),Object(O.jsxs)("div",{className:"",style:{width:90,borderRadius:"100%"},children:[Object(O.jsx)("img",{src:"jaisurya.png",alt:"",style:{width:100,borderRadius:"100%"}}),Object(O.jsx)("div",{className:"p text-center mt-2 ms-2",children:"Jaisurya"})]})]})]})]})})})]})}c(203);function pe(){return Object(s.useEffect)((function(){window.scrollTo(0,0)}),[]),Object(O.jsx)("section",{className:"contact py-3",children:Object(O.jsx)("div",{className:"container text-dark",children:Object(O.jsxs)("div",{className:"row cards",children:[Object(O.jsx)("div",{className:"col-12 col-md-6 p-3 cardbox","data-aos":"fade-up",children:Object(O.jsx)(P.a,{style:{width:"30rem"},className:"text-center",children:Object(O.jsxs)(P.a.Body,{children:[Object(O.jsx)(m.a,{className:"icon",icon:u.n,size:"3x"}),Object(O.jsx)(P.a.Title,{children:"Talk To Us"}),Object(O.jsx)(P.a.Text,{children:"Want to know more about LoFo's working?"}),Object(O.jsxs)(P.a.Text,{children:["Suman Jaiswal: ",Object(O.jsx)("span",{children:"+919798843855"})]})]})})}),Object(O.jsx)("div",{className:"col-12 col-md-6 p-3 cardbox","data-aos":"fade-up",children:Object(O.jsx)(P.a,{style:{width:"30rem"},className:"text-center",children:Object(O.jsxs)(P.a.Body,{children:[Object(O.jsx)(m.a,{className:"icon",icon:u.l,size:"3x"}),Object(O.jsx)(P.a.Title,{children:"Contact The Team"}),Object(O.jsx)(P.a.Text,{children:"Feel free to give feedback on the following mail."}),Object(O.jsxs)(P.a.Text,{children:["Email: ",Object(O.jsx)("span",{children:Object(O.jsx)("a",{href:"mailto:4sale@iiti.ac.in",children:"lofo@iiti.ac.in"})})]})]})})}),Object(O.jsx)("div",{className:"col-12 p-3","data-aos":"fade-up",children:Object(O.jsxs)("div",{className:"row justify-content-center",children:[Object(O.jsxs)("div",{className:" col-12 mt-3 col-md-5 text-center",children:[Object(O.jsx)("div",{className:"text-success mb-2 h5",children:"Location"}),Object(O.jsx)("div",{className:"p mb-1",children:"In the campus of IIT Indore, Khandwa road, Simrol"}),Object(O.jsx)("iframe",{title:"map",className:"w-100 m-0 mt-1",src:"https://www.google.com/maps/embed?pb=!1m18!1m12!1m3!1d44173.68003234819!2d75.89840349008908!3d22.530456862910512!2m3!1f0!2f0!3f0!3m2!1i1024!2i768!4f13.1!3m3!1m2!1s0x3962efcccbce7145%3A0x784e8cb69818596b!2sIndian%20Institute%20Of%20Technology%E2%80%93Indore%20(IIT%E2%80%93Indore)!5e0!3m2!1sen!2sin!4v1646406923144!5m2!1sen!2sin",height:200,allowFullScreen:!0,loading:"lazy"})]}),Object(O.jsxs)("div",{className:" col-12 mt-3 mb-2 col-md-6 text-center",children:[Object(O.jsx)("div",{className:"text-success mb-3 h5",children:"Developers"}),Object(O.jsxs)("div",{className:"row mt-4",children:[Object(O.jsxs)("div",{className:"col",children:[Object(O.jsx)("img",{src:"Suman-Jaiswal.webp",alt:"",style:{width:120,borderRadius:"100%"}}),Object(O.jsx)("div",{className:"p fw-bold mt-2",children:"Suman Jaiswal"}),Object(O.jsx)("div",{style:{fontSize:14},children:"B. Tech, Electrical Engineering"}),Object(O.jsx)("div",{style:{fontSize:14},children:"IIT Indore'2024"})]}),Object(O.jsxs)("div",{className:"col",children:[Object(O.jsx)("img",{src:"jaisurya.png",alt:"",style:{width:120,borderRadius:"100%"}}),Object(O.jsx)("div",{className:"p fw-bold mt-2",children:"Jaisurya Katla"}),Object(O.jsx)("div",{style:{fontSize:14},children:"B. Tech, Mechanical Engineering"}),Object(O.jsx)("div",{style:{fontSize:14},children:"IIT Indore'2024"})]})]})]})]})})]})})})}var ge="800527942484-3jo417bmhql6anp1fqtikdgdpbis8rat.apps.googleusercontent.com",ve=c(116);var Ne=Object(b.b)((function(e){return{auth:e.authorised}}),(function(e){return{login:function(t){e({type:"LOGIN_USER",payload:t})}}}))((function(e){function t(t){var c=Object(ve.a)(t.credential);if(console.log("Got user object ",c),c.email_verified){var s,n,a=c,i=Object(l.a)(Object(l.a)({},a),{},{favourites:[],ads:[],_id:"",notifications:[],orders:[]});(s=c.name,n=c.email,v.a.post("/api/googlelogin",{name:s,email:n})).then((function(t){var c=t.data.user,s=c._id,n=c.mobile,l=c.program,o=c.department,r=c.graduationYear,d=c.notifications,j=c.orders,b=c.ads,m=c.favourites,u=t.data.accessToken;localStorage.setItem("imageUrl",a.picture),i._id=s,i.imageUrl=a.picture,i.mobile=n,i.program=l,i.department=o,i.graduationYear=r,i.notifications=d,i.orders=j,i.ads=b,i.favourites=m,localStorage.setItem("accessToken",u),e.login({user:i,accessToken:u})}))}else C.b.error("Login failed")}return console.log("In login button",ge),Object(s.useEffect)((function(){google.accounts.id.initialize({client_id:ge,callback:t}),google.accounts.id.renderButton(document.getElementById("customBtn"),{theme:"outline",size:"large"})})),Object(O.jsx)("div",{className:"m-auto mb-3 mb-md-0",children:Object(O.jsx)("div",{id:"customBtn",children:Object(O.jsxs)("button",{className:"mx-2 p-2 d-flex justify-content-between rounded",style:{border:"1px solid #ccc",boxShadow:"0 1px 3px rgb(23 23 23 / 24%)"},type:"button",children:[Object(O.jsx)("svg",{className:"my-auto me-2",width:"18",height:"18",xmlns:"http://www.w3.org/2000/svg",children:Object(O.jsxs)("g",{fill:"#000",fillRule:"evenodd",children:[Object(O.jsx)("path",{d:"M9 3.48c1.69 0 2.83.73 3.48 1.34l2.54-2.48C13.46.89 11.43 0 9 0 5.48 0 2.44 2.02.96 4.96l2.91 2.26C4.6 5.05 6.62 3.48 9 3.48z",fill:"#EA4335"}),Object(O.jsx)("path",{d:"M17.64 9.2c0-.74-.06-1.28-.19-1.84H9v3.34h4.96c-.1.83-.64 2.08-1.84 2.92l2.84 2.2c1.7-1.57 2.68-3.88 2.68-6.62z",fill:"#4285F4"}),Object(O.jsx)("path",{d:"M3.88 10.78A5.54 5.54 0 0 1 3.58 9c0-.62.11-1.22.29-1.78L.96 4.96A9.008 9.008 0 0 0 0 9c0 1.45.35 2.82.96 4.04l2.92-2.26z",fill:"#FBBC05"}),Object(O.jsx)("path",{d:"M9 18c2.43 0 4.47-.8 5.96-2.18l-2.84-2.2c-.76.53-1.78.9-3.12.9-2.38 0-4.4-1.57-5.12-3.74L.97 13.04C2.45 15.98 5.48 18 9 18z",fill:"#34A853"}),Object(O.jsx)("path",{fill:"none",d:"M0 0h18v18H0z"})]})}),Object(O.jsx)("span",{children:e.text})]})})})}));var ye=Object(b.b)((function(e){return{auth:e.authorised}}))((function(e){var t=e.auth,c=Object(x.g)();return Object(s.useEffect)((function(){t&&c.push("/")})),console.log("In login widget lol",t),Object(O.jsxs)("div",{className:"row h-100 m-0",children:[Object(O.jsx)("div",{className:"col-9 d-flex align-items-center m-auto p-0 hero",children:Object(O.jsx)("img",{src:"lofo-poster.jpeg",className:"my-auto w-100",alt:""})}),Object(O.jsx)("div",{className:"col-12",children:Object(O.jsxs)("div",{className:"d-flex px-2 gap-3 h-100 flex-column bg-light justify-content-center align-items-center",style:{borderRadius:20,padding:40},children:[Object(O.jsx)("img",{src:"logo2.png",alt:"",width:70,height:60}),Object(O.jsxs)("div",{className:"text-center",children:[Object(O.jsx)("div",{className:"login",children:Object(O.jsx)(Ne,{text:"Login with Institude Id"})}),Object(O.jsx)("p",{className:"text-secondary my-2",children:"(iiti.ac.in)"})]})]})})]})}));var we=Object(b.b)((function(e){return{user:e.user,auth:e.authorised,authLoading:e.authLoading,accessToken:e.accessToken}}),(function(e){return{Update:function(t){e({type:"UPDATE_USER",payload:t})},setItems:function(t){e({type:"SET_ITEMS",payload:t})},setLofoItems:function(t){e({type:"SET_LOFOITEMS",payload:t})},Logout:function(){e({type:"CLEAR_USER"})}}}))((function(e){var t=Object(x.g)(),c=e.user,n=e.Update,a=e.auth,j=e.authLoading,b=e.accessToken,m=e.setItems,u=e.setLofoItems,h=e.user.notifications,f=Object(s.useState)(null),p=Object(d.a)(f,2),g=p[0],N=p[1];console.log("In app"),console.log("app.js ",a,b),v.a.interceptors.response.use((function(e){return e}),function(){var c=Object(r.a)(Object(o.a)().mark((function c(s){return Object(o.a)().wrap((function(c){for(;;)switch(c.prev=c.next){case 0:return 403===s.response.status&&(console.log("Interceptor"),localStorage.setItem("accessToken",null),e.Logout(),t.push("/")),c.abrupt("return",Promise.reject(s));case 2:case"end":return c.stop()}}),c)})));return function(e){return c.apply(this,arguments)}}());var y=Object(s.useRef)(null),I=Object(s.useRef)(h),k=Object(s.useRef)(null);return Object(s.useEffect)((function(){y.current=Object(Oe.a)("",{transports:["websocket","polling"]})}),[a]),Object(s.useEffect)((function(){a&&(y.current.emit("join",c.email),y.current.on("notification",(function(e){k.current(e),C.b.success(e.userName+" "+e.message+" "+e.itemTitle)})))}),[a,c.email,k]),Object(s.useEffect)((function(){I.current=h}),[j,h,a]),Object(s.useEffect)((function(){N(j),N(!0),w.then((function(e){return m(e.data)})).catch((function(e){return console.log(e)})),S.then((function(e){return u(e.data)})).catch((function(e){return console.log(e)})),N(!1)}),[a,j,m,u]),Object(s.useEffect)((function(){k.current=function(e){n(Object(l.a)(Object(l.a)({},c),{},{notifications:[].concat(Object(i.a)(I.current),[e])}))}}),[c,n]),Object(O.jsxs)(O.Fragment,{children:[Object(O.jsx)(F,{}),Object(O.jsx)("div",{style:{minHeight:"82vh"},children:Object(O.jsxs)(x.d,{children:[Object(O.jsx)(x.b,{path:"/about",exact:!0,component:fe}),Object(O.jsx)(x.b,{path:"/contact",exact:!0,component:pe}),g?Object(O.jsx)(L,{}):a?Object(O.jsx)(ue,{}):Object(O.jsx)(ye,{})]})}),Object(O.jsx)(xe,{}),Object(O.jsx)(he,{}),Object(O.jsx)(C.a,{position:"bottom-right",autoClose:3e3,newestOnTop:!1,closeOnClick:!0,rtl:!1,draggable:!0,pauseOnHover:!0})]})})),Se=c(117),Ie={_id:"",name:"",imageUrl:"",email:"",mobile:0,program:"",department:"",graduationYear:0,notifications:[],orders:[],ads:[],wishlist:[]},ke=(localStorage.getItem("accessToken"),localStorage.getItem("accessToken"),function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{user:{_id:"",name:"",imageUrl:"",email:"",mobile:0,program:"",department:"",graduationYear:0,notifications:[],orders:[],ads:[],wishlist:[]},lofoItems:[],items:[],authorised:!!localStorage.getItem("accessToken"),authLoading:!1,accessToken:localStorage.getItem("accessToken")},t=arguments.length>1?arguments[1]:void 0;switch(t.type){case"LOGIN_USER":return Object(l.a)(Object(l.a)({},e),{},{user:t.payload.user,authorised:!0,authLoading:!1,accessToken:t.payload.accessToken});case"SET_USER":return Object(l.a)(Object(l.a)({},e),{},{user:t.payload.user});case"CLEAR_USER":return Object(l.a)(Object(l.a)({},e),{},{user:Object(l.a)({},Ie),authorised:!1,accessToken:null});case"UPDATE_USER":return Object(l.a)(Object(l.a)({},e),{},{user:t.payload,authorised:!0});case"SET_ITEMS":return Object(l.a)(Object(l.a)({},e),{},{items:t.payload});case"CLEAR_ITEMS":return Object(l.a)(Object(l.a)({},e),{},{items:[]});case"DELETE_ITEM":return Object(l.a)(Object(l.a)({},e),{},{items:e.items.filter((function(e){return e._id!==t.payload}))});case"UPDATE_ITEM":return Object(l.a)(Object(l.a)({},e),{},{items:[].concat(Object(i.a)(e.items),[e.items[e.items.findIndex((function(e){return e._id===t.payload._id}))]=t.payload.doc])});case"CREATE_ITEM":return Object(l.a)(Object(l.a)({},e),{},{items:[].concat(Object(i.a)(e.items),[t.payload])});case"SET_LOFOITEMS":return Object(l.a)(Object(l.a)({},e),{},{lofoItems:t.payload});case"CLEAR_LOFOITEMS":return Object(l.a)(Object(l.a)({},e),{},{lofoItems:[]});case"DELETE_LOFOITEM":return Object(l.a)(Object(l.a)({},e),{},{lofoItems:e.lofoItems.filter((function(e){return e._id!==t.payload}))});case"UPDATE_LOFOITEM":return Object(l.a)(Object(l.a)({},e),{},{lofoItems:[].concat(Object(i.a)(e.lofoItems),[e.lofoItems[e.lofoItems.findIndex((function(e){return e._id===t.payload._id}))]=t.payload])});case"CREATE_LOFOITEM":return Object(l.a)(Object(l.a)({},e),{},{lofoItems:e.lofoItems.push(t.payload)});default:return e}}),Ee=Object(Se.a)(ke);Ee.subscribe((function(){console.log(Ee.getState())}));var Te=Ee;a.a.render(Object(O.jsx)(b.a,{store:Te,children:Object(O.jsx)(j.a,{children:Object(O.jsx)(we,{})})}),document.getElementById("root"))}},[[204,1,2]]]);
//# sourceMappingURL=main.7f131c60.chunk.js.map